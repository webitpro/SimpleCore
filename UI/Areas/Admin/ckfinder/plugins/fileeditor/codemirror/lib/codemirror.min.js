var CodeMirror=(function(){function e(b2,a1){var bW={},aG=e.defaults;
for(var bV in aG){if(aG.hasOwnProperty(bV)){bW[bV]=(a1&&a1.hasOwnProperty(bV)?a1:aG)[bV]
}}var cX=document.createElement("div");
cX.className="CodeMirror"+(bW.lineWrapping?" CodeMirror-wrap":"");
cX.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
if(b2.appendChild){b2.appendChild(cX)
}else{b2(cX)
}var bh=cX.firstChild,bg=bh.firstChild,ch=cX.lastChild,aB=ch.firstChild,bH=aB.firstChild,a3=bH.firstChild,a6=a3.firstChild,bs=a3.nextSibling.firstChild,bC=bs.firstChild,aF=bC.nextSibling,cl=aF.nextSibling,bq=cl.nextSibling;
cK();
if(J){bg.style.width="0px"
}if(!ak){bs.draggable=true
}bs.style.outline="none";
if(bW.tabindex!=null){bg.tabIndex=bW.tabindex
}if(bW.autofocus){aV()
}if(!bW.gutter&&!bW.lineNumbers){a3.style.display="none"
}if(O){bh.style.height="1px",bh.style.position="absolute"
}try{cD("x")
}catch(aN){if(aN.message.match(/runtime/i)){aN=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")
}throw aN
}var b3=new m(),ba=new m(),an;
var bF,aJ=new c([new P([new Q("")])]),cW,aU;
bt();
var cj={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};
var cw,bk,bl,bm=0,aM,bX=false,cE=false;
var cP,cU,aw,cH,ck,bp,a5,au;
var aI=0,cx=0,cy=0,bn=0;
var ao;
var bz="",bA;
var cF={};
bU(function(){cv(bW.value||"");
cP=false
})();
var bd=new E();
h(ch,"mousedown",bU(bT));
h(ch,"dblclick",bU(bM));
h(bs,"selectstart",p);
if(!z){h(ch,"contextmenu",bL)
}h(ch,"scroll",function(){bm=ch.scrollTop;
cN([]);
if(bW.fixedGutter){a3.style.left=ch.scrollLeft+"px"
}if(bW.onScroll){bW.onScroll(bi)
}});
h(window,"resize",function(){cN(true)
});
h(bg,"keyup",bU(bS));
h(bg,"input",aQ);
h(bg,"keydown",bU(bQ));
h(bg,"keypress",bU(bR));
h(bg,"focus",bP);
h(bg,"blur",bK);
if(bW.dragDrop){h(bs,"dragstart",bN);
function aL(cZ){if(bW.onDragEvent&&bW.onDragEvent(bi,a(cZ))){return
}r(cZ)
}h(ch,"dragenter",aL);
h(ch,"dragover",aL);
h(ch,"drop",bU(bO))
}h(ch,"paste",function(){aV();
aQ()
});
h(bg,"paste",aQ);
h(bg,"cut",bU(function(){if(!bW.readOnly){cc("")
}}));
if(O){h(aB,"mouseup",function(){if(document.activeElement==bg){bg.blur()
}aV()
})
}var a9;
try{a9=(document.activeElement==bg)
}catch(aN){}if(a9||bW.autofocus){setTimeout(bP,20)
}else{bK()
}function bj(cZ){return cZ>=0&&cZ<aJ.size
}var bi=cX.CodeMirror={getValue:a0,setValue:bU(cv),getSelection:aY,replaceSelection:bU(cc),focus:function(){window.focus();
aV();
bP();
aQ()
},setOption:function(c0,c1){var cZ=bW[c0];
bW[c0]=c1;
if(c0=="mode"||c0=="indentUnit"){bt()
}else{if(c0=="readOnly"&&c1=="nocursor"){bK();
bg.blur()
}else{if(c0=="readOnly"&&!c1){cd(true)
}else{if(c0=="theme"){cK()
}else{if(c0=="lineWrapping"&&cZ!=c1){bU(cY)()
}else{if(c0=="tabSize"){cN(true)
}}}}}}if(c0=="lineNumbers"||c0=="gutter"||c0=="firstLineNumber"||c0=="theme"){a4();
cN(true)
}},getOption:function(cZ){return bW[cZ]
},undo:bU(cL),redo:bU(b8),indentLine:bU(function(c0,cZ){if(typeof cZ!="string"){if(cZ==null){cZ=bW.smartIndent?"smart":"prev"
}else{cZ=cZ?"add":"subtract"
}}if(bj(c0)){be(c0,cZ)
}}),indentSelection:bU(bf),historySize:function(){return{undo:bd.done.length,redo:bd.undone.length}
},clearHistory:function(){bd=new E()
},matchBrackets:bU(function(){bx(true)
}),getTokenAt:bU(function(cZ){cZ=aA(cZ);
return aW(cZ.line).getTokenAt(bF,aZ(cZ.line),cZ.ch)
}),getStateAfter:function(cZ){cZ=az(cZ==null?aJ.size-1:cZ);
return aZ(cZ+1)
},cursorCoords:function(c0,cZ){if(c0==null){c0=cj.inverted
}return this.charCoords(c0?cj.from:cj.to,cZ)
},charCoords:function(c0,cZ){c0=aA(c0);
if(cZ=="local"){return bu(c0,false)
}if(cZ=="div"){return bu(c0,true)
}return b0(c0)
},coordsChar:function(cZ){var c0=v(bs);
return aE(cZ.x-c0.left,cZ.y-c0.top)
},markText:bU(bw),setBookmark:co,findMarksAt:aR,setMarker:bU(am),clearMarker:bU(b9),setLineClass:bU(cq),hideLine:bU(function(cZ){return cr(cZ,true)
}),showLine:bU(function(cZ){return cr(cZ,false)
}),onDeleteLine:function(c0,cZ){if(typeof c0=="number"){if(!bj(c0)){return null
}c0=aW(c0)
}(c0.handlers||(c0.handlers=[])).push(cZ);
return c0
},lineInfo:br,addWidget:function(c3,c2,c4,c6,cZ){c3=bu(aA(c3));
var c5=c3.yBot,c1=c3.x;
c2.style.position="absolute";
aB.appendChild(c2);
if(c6=="over"){c5=c3.y
}else{if(c6=="near"){var c7=Math.max(ch.offsetHeight,aJ.height*cI()),c0=Math.max(aB.clientWidth,bs.clientWidth)-bY();
if(c3.yBot+c2.offsetHeight>c7&&c3.y>c2.offsetHeight){c5=c3.y-c2.offsetHeight
}if(c1+c2.offsetWidth>c0){c1=c0-c2.offsetWidth
}}}c2.style.top=(c5+bZ())+"px";
c2.style.left=c2.style.right="";
if(cZ=="right"){c1=aB.clientWidth-c2.offsetWidth;
c2.style.right="0px"
}else{if(cZ=="left"){c1=0
}else{if(cZ=="middle"){c1=(aB.clientWidth-c2.offsetWidth)/2
}}c2.style.left=(c1+bY())+"px"
}if(c4){ci(c1,c5,c1+c2.offsetWidth,c5+c2.offsetHeight)
}},lineCount:function(){return aJ.size
},clipPos:aA,getCursor:function(cZ){if(cZ==null){cZ=cj.inverted
}return i(cZ?cj.from:cj.to)
},somethingSelected:function(){return !aa(cj.from,cj.to)
},setCursor:bU(function(c0,cZ,c1){if(cZ==null&&typeof c0.line=="number"){cp(c0.line,c0.ch,c1)
}else{cp(c0,cZ,c1)
}}),setSelection:bU(function(cZ,c0,c1){(c1?ct:cs)(aA(cZ),aA(c0||cZ))
}),getLine:function(cZ){if(bj(cZ)){return aW(cZ).text
}},getLineHandle:function(cZ){if(bj(cZ)){return aW(cZ)
}},setLine:bU(function(cZ,c0){if(bj(cZ)){ca(c0,{line:cZ,ch:0},{line:cZ,ch:aW(cZ).text.length})
}}),removeLine:bU(function(cZ){if(bj(cZ)){ca("",{line:cZ,ch:0},aA({line:cZ+1,ch:0}))
}}),replaceRange:bU(ca),getRange:function(cZ,c0){return aX(aA(cZ),aA(c0))
},triggerOnKeyDown:bU(bQ),execCommand:function(cZ){return f[cZ](bi)
},moveH:bU(bG),deleteH:bU(aH),moveV:bU(bI),toggleOverwrite:function(){if(bX){bX=false;
aF.className=aF.className.replace(" CodeMirror-overwrite","")
}else{bX=true;
aF.className+=" CodeMirror-overwrite"
}},posFromIndex:function(c1){var c0=0,cZ;
aJ.iter(0,aJ.size,function(c2){var c3=c2.text.length+1;
if(c3>c1){cZ=c1;
return true
}c1-=c3;
++c0
});
return aA({line:c0,ch:cZ})
},indexFromPos:function(cZ){if(cZ.line<0||cZ.ch<0){return 0
}var c0=cZ.ch;
aJ.iter(0,cZ.line,function(c1){c0+=c1.text.length+1
});
return c0
},scrollTo:function(cZ,c0){if(cZ!=null){ch.scrollLeft=cZ
}if(c0!=null){ch.scrollTop=c0
}cN([])
},operation:function(cZ){return bU(cZ)()
},compoundChange:function(cZ){return aC(cZ)
},refresh:function(){cN(true);
if(ch.scrollHeight>bm){ch.scrollTop=bm
}},getInputField:function(){return bg
},getWrapperElement:function(){return cX
},getScrollerElement:function(){return ch
},getGutterElement:function(){return a3
}};
function aW(cZ){return B(aJ,cZ)
}function cQ(c1,c0){a5=true;
var cZ=c0-c1.height;
for(var c2=c1;
c2;
c2=c2.parent){c2.height+=cZ
}}function cv(cZ){var c0={line:0,ch:0};
cR(c0,{line:aJ.size-1,ch:aW(aJ.size-1).text.length},ag(cZ),c0,c0);
cP=true
}function a0(){var cZ=[];
aJ.iter(0,aJ.size,function(c0){cZ.push(c0.text)
});
return cZ.join("\n")
}function bT(c2){cu(q(c2,"shiftKey"));
for(var c7=t(c2);
c7!=cX;
c7=c7.parentNode){if(c7.parentNode==aB&&c7!=bH){return
}}for(var c7=t(c2);
c7!=cX;
c7=c7.parentNode){if(c7.parentNode==a6){if(bW.onGutterClick){bW.onGutterClick(bi,I(a6.childNodes,c7)+cx,c2)
}return p(c2)
}}var c9=b5(c2);
switch(o(c2)){case 3:if(z&&!V){bL(c2)
}return;
case 2:if(c9){cp(c9.line,c9.ch,true)
}return
}if(!c9){if(t(c2)==ch){p(c2)
}return
}if(!aU){bP()
}var c8=+new Date;
if(bl&&bl.time>c8-400&&aa(bl.pos,c9)){p(c2);
setTimeout(aV,20);
return cm(c9.line)
}else{if(bk&&bk.time>c8-400&&aa(bk.pos,c9)){bl={time:c8,pos:c9};
p(c2);
return cn(c9)
}else{bk={time:c8,pos:c9}
}}var c5=c9,c4;
if(bW.dragDrop&&n&&!bW.readOnly&&!aa(cj.from,cj.to)&&!ab(c9,cj.from)&&!ab(cj.to,c9)){if(ak){bs.draggable=true
}function c0(db){if(ak){bs.draggable=false
}aM=false;
da();
c1();
if(Math.abs(c2.clientX-db.clientX)+Math.abs(c2.clientY-db.clientY)<10){p(db);
cp(c9.line,c9.ch,true);
aV()
}}var da=h(document,"mouseup",bU(c0),true);
var c1=h(ch,"drop",bU(c0),true);
aM=true;
if(bs.dragDrop){bs.dragDrop()
}return
}p(c2);
cp(c9.line,c9.ch,true);
function c3(dc){var db=b5(dc,true);
if(db&&!aa(db,c5)){if(!aU){bP()
}c5=db;
ct(c9,db);
cP=false;
var dd=cV();
if(db.line>=dd.to||db.line<dd.from){c4=setTimeout(bU(function(){c3(dc)
}),150)
}}}function cZ(dc){clearTimeout(c4);
var db=b5(dc);
if(db){ct(c9,db)
}p(dc);
aV();
cP=true;
c6();
da()
}var c6=h(document,"mousemove",bU(function(db){clearTimeout(c4);
p(db);
if(!G&&!o(db)){cZ(db)
}else{c3(db)
}}),true);
var da=h(document,"mouseup",bU(cZ),true)
}function bM(cZ){for(var c0=t(cZ);
c0!=cX;
c0=c0.parentNode){if(c0.parentNode==a6){return p(cZ)
}}var c1=b5(cZ);
if(!c1){return
}bl={time:+new Date,pos:c1};
p(cZ);
cn(c1)
}function bO(cZ){if(bW.onDragEvent&&bW.onDragEvent(bi,a(cZ))){return
}cZ.preventDefault();
var c4=b5(cZ,true),c0=cZ.dataTransfer.files;
if(!c4||bW.readOnly){return
}if(c0&&c0.length&&window.FileReader&&window.File){function c2(c7,c8){var c9=new FileReader;
c9.onload=function(){c6[c8]=c9.result;
if(++c5==c3){c4=aA(c4);
bU(function(){var da=ca(c6.join(""),c4,c4);
ct(c4,da)
})()
}};
c9.readAsText(c7)
}var c3=c0.length,c6=Array(c3),c5=0;
for(var c1=0;
c1<c3;
++c1){c2(c0[c1],c1)
}}else{try{var c6=cZ.dataTransfer.getData("Text");
if(c6){aC(function(){var c7=cj.from,c8=cj.to;
ct(c4,c4);
if(aM){ca("",c7,c8)
}cc(c6);
aV()
})
}}catch(cZ){}}}function bN(cZ){var c1=aY();
cZ.dataTransfer.setData("Text",c1);
if(z||d){var c0=document.createElement("img");
c0.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";
cZ.dataTransfer.setDragImage(c0,0,0)
}}function aK(cZ,c0){if(typeof cZ=="string"){cZ=f[cZ];
if(!cZ){return false
}}var c2=cw;
try{if(bW.readOnly){cE=true
}if(c0){cw=null
}cZ(bi)
}catch(c1){if(c1!=Z){throw c1
}return false
}finally{cw=c2;
cE=false
}return true
}function a8(cZ){var c3=A(bW.keyMap),c2=c3.auto;
clearTimeout(bB);
if(c2&&!K(cZ)){bB=setTimeout(function(){if(A(bW.keyMap)==c3){bW.keyMap=(c2.call?c2.call(null,bi):c2)
}},50)
}var c1=N[q(cZ,"keyCode")],c0=false;
if(c1==null||cZ.altGraphKey){return false
}if(q(cZ,"altKey")){c1="Alt-"+c1
}if(q(cZ,"ctrlKey")){c1="Ctrl-"+c1
}if(q(cZ,"metaKey")){c1="Cmd-"+c1
}var c5=false;
function c4(){c5=true
}if(q(cZ,"shiftKey")){c0=U("Shift-"+c1,bW.extraKeys,bW.keyMap,function(c6){return aK(c6,true)
},c4)||U(c1,bW.extraKeys,bW.keyMap,function(c6){if(typeof c6=="string"&&/^go[A-Z]/.test(c6)){return aK(c6)
}},c4)
}else{c0=U(c1,bW.extraKeys,bW.keyMap,aK,c4)
}if(c5){c0=false
}if(c0){p(cZ);
if(G){cZ.oldKeyCode=cZ.keyCode;
cZ.keyCode=0
}}return c0
}function a7(c0,cZ){var c1=U("'"+cZ+"'",bW.extraKeys,bW.keyMap,function(c2){return aK(c2,true)
});
if(c1){p(c0)
}return c1
}var bo=null,bB;
function bQ(c0){if(!aU){bP()
}if(G&&c0.keyCode==27){c0.returnValue=false
}if(b4){if(b7()){b4=false
}}if(bW.onKeyEvent&&bW.onKeyEvent(bi,a(c0))){return
}var cZ=q(c0,"keyCode");
cu(cZ==16||q(c0,"shiftKey"));
var c1=a8(c0);
if(window.opera){bo=c1?cZ:null;
if(!c1&&cZ==88&&q(c0,V?"metaKey":"ctrlKey")){cc("")
}}}function bR(c1){if(b4){b7()
}if(bW.onKeyEvent&&bW.onKeyEvent(bi,a(c1))){return
}var c2=q(c1,"keyCode"),c0=q(c1,"charCode");
if(window.opera&&c2==bo){bo=null;
p(c1);
return
}if(((window.opera&&!c1.which)||O)&&a8(c1)){return
}var cZ=String.fromCharCode(c0==null?c2:c0);
if(bW.electricChars&&bF.electricChars&&bW.smartIndent&&!bW.readOnly){if(bF.electricChars.indexOf(cZ)>-1){setTimeout(bU(function(){be(cj.to.line,"smart")
}),75)
}}if(a7(c1,cZ)){return
}aQ()
}function bS(cZ){if(bW.onKeyEvent&&bW.onKeyEvent(bi,a(cZ))){return
}if(q(cZ,"keyCode")==16){cw=null
}}function bP(){if(bW.readOnly=="nocursor"){return
}if(!aU){if(bW.onFocus){bW.onFocus(bi)
}aU=true;
if(cX.className.search(/\bCodeMirror-focused\b/)==-1){cX.className+=" CodeMirror-focused"
}if(!bp){cd(true)
}}cA();
ce()
}function bK(){if(aU){if(bW.onBlur){bW.onBlur(bi)
}aU=false;
if(ao){bU(function(){if(ao){ao();
ao=null
}})()
}cX.className=cX.className.replace(" CodeMirror-focused","")
}clearInterval(an);
setTimeout(function(){if(!aU){cw=null
}},150)
}function cR(cZ,c4,c0,c2,c3){if(cE){return
}if(bd){var c1=[];
aJ.iter(cZ.line,c4.line+1,function(c5){c1.push(c5.text)
});
bd.addChange(cZ.line,c0.length,c1);
while(bd.done.length>bW.undoDepth){bd.done.shift()
}}cS(cZ,c4,c0,c2,c3)
}function cM(c1,c7){if(!c1.length){return
}var c6=c1.pop(),c3=[];
for(var c2=c6.length-1;
c2>=0;
c2-=1){var cZ=c6[c2];
var c5=[],c0=cZ.start+cZ.added;
aJ.iter(cZ.start,c0,function(c8){c5.push(c8.text)
});
c3.push({start:cZ.start,added:cZ.old.length,old:c5});
var c4=aA({line:cZ.start+cZ.old.length-1,ch:u(c5[c5.length-1],cZ.old[cZ.old.length-1])});
cS({line:cZ.start,ch:0},{line:c0-1,ch:aW(c0-1).text.length},cZ.old,c4,c4)
}cP=true;
c7.push(c3)
}function cL(){cM(bd.done,bd.undone)
}function b8(){cM(bd.undone,bd.done)
}function cS(c4,dk,db,dh,di){if(cE){return
}var dg=false,da=bz.length;
if(!bW.lineWrapping){aJ.iter(c4.line,dk.line+1,function(dm){if(dm.text.length==da){dg=true;
return true
}})
}if(c4.line!=dk.line||db.length>1){a5=true
}var dd=dk.line-c4.line,c3=aW(c4.line),c8=aW(dk.line);
if(c4.ch==0&&dk.ch==0&&db[db.length-1]==""){var cZ=[],df=null;
if(c4.line){df=aW(c4.line-1);
df.fixMarkEnds(c8)
}else{c8.fixMarkStarts()
}for(var c6=0,c2=db.length-1;
c6<c2;
++c6){cZ.push(Q.inheritMarks(db[c6],df))
}if(dd){aJ.remove(c4.line,dd,au)
}if(cZ.length){aJ.insert(c4.line,cZ)
}}else{if(c3==c8){if(db.length==1){c3.replace(c4.ch,dk.ch,db[0])
}else{c8=c3.split(dk.ch,db[db.length-1]);
c3.replace(c4.ch,null,db[0]);
c3.fixMarkEnds(c8);
var cZ=[];
for(var c6=1,c2=db.length-1;
c6<c2;
++c6){cZ.push(Q.inheritMarks(db[c6],c3))
}cZ.push(c8);
aJ.insert(c4.line+1,cZ)
}}else{if(db.length==1){c3.replace(c4.ch,null,db[0]);
c8.replace(null,dk.ch,"");
c3.append(c8);
aJ.remove(c4.line+1,dd,au)
}else{var cZ=[];
c3.replace(c4.ch,null,db[0]);
c8.replace(null,dk.ch,db[db.length-1]);
c3.fixMarkEnds(c8);
for(var c6=1,c2=db.length-1;
c6<c2;
++c6){cZ.push(Q.inheritMarks(db[c6],c3))
}if(dd>1){aJ.remove(c4.line+1,dd-1,au)
}aJ.insert(c4.line+1,cZ)
}}}if(bW.lineWrapping){var de=Math.max(5,ch.clientWidth/ay()-3);
aJ.iter(c4.line,c4.line+db.length,function(dn){if(dn.hidden){return
}var dm=Math.ceil(dn.text.length/de)||1;
if(dm!=dn.height){cQ(dn,dm)
}})
}else{aJ.iter(c4.line,c4.line+db.length,function(dn){var dm=dn.text;
if(dm.length>da){bz=dm;
da=dm.length;
bA=null;
dg=false
}});
if(dg){da=0;
bz="";
bA=null;
aJ.iter(0,aJ.size,function(dn){var dm=dn.text;
if(dm.length>da){da=dm.length;
bz=dm
}})
}}var dc=[],c9=db.length-dd-1;
for(var c6=0,c7=cW.length;
c6<c7;
++c6){var dj=cW[c6];
if(dj<c4.line){dc.push(dj)
}else{if(dj>dk.line){dc.push(dj+c9)
}}}var c5=c4.line+Math.min(db.length,500);
bb(c4.line,c5);
dc.push(c5);
cW=dc;
cC(100);
aw.push({from:c4.line,to:dk.line+1,diff:c9});
var c0={from:c4,to:dk,text:db};
if(cH){for(var c1=cH;
c1.next;
c1=c1.next){}c1.next=c0
}else{cH=c0
}function dl(dm){return dm<=Math.min(dk.line,dk.line+c9)?dm:dm+c9
}cs(dh,di,dl(cj.from.line),dl(cj.to.line));
if(ch.clientHeight){aB.style.height=(aJ.height*cI()+2*bZ())+"px"
}}function ca(c0,c2,c3){c2=aA(c2);
if(!c3){c3=c2
}else{c3=aA(c3)
}c0=ag(c0);
function cZ(c6){if(ab(c6,c2)){return c6
}if(!ab(c3,c6)){return c1
}var c5=c6.line+c0.length-(c3.line-c2.line)-1;
var c4=c6.ch;
if(c6.line==c3.line){c4+=c0[c0.length-1].length-(c3.ch-(c3.line==c2.line?c2.ch:0))
}return{line:c5,ch:c4}
}var c1;
cb(c0,c2,c3,function(c4){c1=c4;
return{from:cZ(cj.from),to:cZ(cj.to)}
});
return c1
}function cc(cZ,c0){cb(ag(cZ),cj.from,cj.to,function(c1){if(c0=="end"){return{from:c1,to:c1}
}else{if(c0=="start"){return{from:cj.from,to:cj.from}
}else{return{from:cj.from,to:c1}
}}})
}function cb(cZ,c2,c4,c0){var c1=cZ.length==1?cZ[0].length+c2.ch:cZ[cZ.length-1].length;
var c3=c0({line:c2.line+cZ.length-1,ch:c1});
cR(c2,c4,cZ,c3.from,c3.to)
}function aX(c0,c3){var c1=c0.line,c2=c3.line;
if(c1==c2){return aW(c1).text.slice(c0.ch,c3.ch)
}var cZ=[aW(c1).text.slice(c0.ch)];
aJ.iter(c1+1,c2,function(c4){cZ.push(c4.text)
});
cZ.push(aW(c2).text.slice(0,c3.ch));
return cZ.join("\n")
}function aY(){return aX(cj.from,cj.to)
}var b4=false;
function cA(){if(b4){return
}b3.set(bW.pollInterval,function(){cB();
b7();
if(aU){cA()
}aO()
})
}function aQ(){var cZ=false;
b4=true;
function c0(){cB();
var c1=b7();
if(!c1&&!cZ){cZ=true;
b3.set(60,c0)
}else{b4=false;
cA()
}aO()
}b3.set(20,c0)
}var b6="";
function b7(){if(bp||!aU||C(bg)||bW.readOnly){return false
}var c1=bg.value;
if(c1==b6){return false
}cw=null;
var c0=0,cZ=Math.min(b6.length,c1.length);
while(c0<cZ&&b6[c0]==c1[c0]){++c0
}if(c0<b6.length){cj.from={line:cj.from.line,ch:cj.from.ch-(b6.length-c0)}
}else{if(bX&&aa(cj.from,cj.to)){cj.to={line:cj.to.line,ch:Math.min(aW(cj.to.line).text.length,cj.to.ch+(c1.length-c0))}
}}cc(c1.slice(c0),"end");
b6=c1;
return true
}function cd(cZ){if(!aa(cj.from,cj.to)){b6="";
bg.value=aY();
ae(bg)
}else{if(cZ){b6=bg.value=""
}}}function aV(){if(bW.readOnly!="nocursor"){bg.focus()
}}function cg(){if(!aF.getBoundingClientRect){return
}var cZ=aF.getBoundingClientRect();
if(G&&cZ.top==cZ.bottom){return
}var c0=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);
if(cZ.top<0||cZ.bottom>c0){aF.scrollIntoView()
}}function cf(){var cZ=bu(cj.inverted?cj.from:cj.to);
var c0=bW.lineWrapping?Math.min(cZ.x,bs.offsetWidth):cZ.x;
return ci(c0,cZ.y,c0,cZ.yBot)
}function ci(c9,db,da,dc){var c1=bY(),c2=bZ();
db+=c2;
dc+=c2;
c9+=c1;
da+=c1;
var c4=ch.clientHeight,c6=ch.scrollTop,c8=false,c3=true;
if(db<c6){ch.scrollTop=Math.max(0,db);
c8=true
}else{if(dc>c6+c4){ch.scrollTop=dc-c4;
c8=true
}}var c7=ch.clientWidth,c5=ch.scrollLeft;
var c0=bW.fixedGutter?a3.clientWidth:0;
var cZ=c9<c0+c1+10;
if(c9<c5+c0||cZ){if(cZ){c9=0
}ch.scrollLeft=Math.max(0,c9-10-c0);
c8=true
}else{if(da>c7+c5-3){ch.scrollLeft=da+10-c7;
c8=true;
if(da>aB.clientWidth){c3=false
}}}if(c8&&bW.onScroll){bW.onScroll(bi)
}return c3
}function cV(){var c0=cI(),c2=ch.scrollTop-bZ();
var cZ=Math.max(0,Math.floor(c2/c0));
var c1=Math.ceil((c2+ch.clientHeight)/c0);
return{from:R(aJ,cZ),to:R(aJ,c1)}
}function cN(cZ,c8){if(!ch.clientWidth){cx=cy=aI=0;
return
}var db=cV();
if(cZ!==true&&cZ.length==0&&db.from>cx&&db.to<cy){return
}var c2=Math.max(db.from-100,0),da=Math.min(aJ.size,db.to+100);
if(cx<c2&&c2-cx<20){c2=cx
}if(cy>da&&cy-da<20){da=Math.min(aJ.size,cy)
}var c5=cZ===true?[]:aD([{from:cx,to:cy,domStart:0}],cZ);
var c6=0;
for(var c4=0;
c4<c5.length;
++c4){var c7=c5[c4];
if(c7.from<c2){c7.domStart+=(c2-c7.from);
c7.from=c2
}if(c7.to>da){c7.to=da
}if(c7.from>=c7.to){c5.splice(c4--,1)
}else{c6+=c7.to-c7.from
}}if(c6==da-c2&&c2==cx&&da==cy){return
}c5.sort(function(dc,dd){return dc.domStart-dd.domStart
});
var c9=cI(),c3=a3.style.display;
bq.style.display="none";
b1(c2,da,c5);
bq.style.display=a3.style.display="";
var c1=c2!=cx||da!=cy||bn!=ch.clientHeight+c9;
if(c1){bn=ch.clientHeight+c9
}cx=c2;
cy=da;
aI=D(aJ,c2);
bH.style.top=(aI*c9)+"px";
if(ch.clientHeight){aB.style.height=(aJ.height*c9+2*bZ())+"px"
}if(bq.childNodes.length!=cy-cx){throw new Error("BAD PATCH! "+JSON.stringify(c5)+" size="+(cy-cx)+" nodes="+bq.childNodes.length)
}function c0(){bA=ch.clientWidth;
var dc=bq.firstChild,dd=false;
aJ.iter(cx,cy,function(df){if(!df.hidden){var de=Math.round(dc.offsetHeight/c9)||1;
if(df.height!=de){cQ(df,de);
a5=dd=true
}}dc=dc.nextSibling
});
if(dd){aB.style.height=(aJ.height*c9+2*bZ())+"px"
}return dd
}if(bW.lineWrapping){c0()
}else{if(bA==null){bA=cD(bz)
}if(bA>ch.clientWidth){bs.style.width=bA+"px";
aB.style.width="";
aB.style.width=ch.scrollWidth+"px"
}else{bs.style.width=aB.style.width=""
}}a3.style.display=c3;
if(c1||a5){cO()&&bW.lineWrapping&&c0()&&cO()
}cT();
if(!c8&&bW.onUpdate){bW.onUpdate(bi)
}return true
}function aD(c3,c0){for(var c2=0,c6=c0.length||0;
c2<c6;
++c2){var cZ=c0[c2],c4=[],c1=cZ.diff||0;
for(var c5=0,c7=c3.length;
c5<c7;
++c5){var c8=c3[c5];
if(cZ.to<=c8.from&&cZ.diff){c4.push({from:c8.from+c1,to:c8.to+c1,domStart:c8.domStart})
}else{if(cZ.to<=c8.from||cZ.from>=c8.to){c4.push(c8)
}else{if(cZ.from>c8.from){c4.push({from:c8.from,to:cZ.from,domStart:c8.domStart})
}if(cZ.to<c8.to){c4.push({from:cZ.to+c1,to:c8.to+c1,domStart:c8.domStart+(cZ.to-c8.from)})
}}}}c3=c4
}return c3
}function b1(c3,db,c5){if(!c5.length){bq.innerHTML=""
}else{function c7(dc){var dd=dc.nextSibling;
dc.parentNode.removeChild(dc);
return dd
}var c1=0,c0=bq.firstChild,c8;
for(var c4=0;
c4<c5.length;
++c4){var cZ=c5[c4];
while(cZ.domStart>c1){c0=c7(c0);
c1++
}for(var c6=0,c2=cZ.to-cZ.from;
c6<c2;
++c6){c0=c0.nextSibling;
c1++
}}while(c0){c0=c7(c0)
}}var c9=c5.shift(),c0=bq.firstChild,c6=c3;
var da=document.createElement("div");
aJ.iter(c3,db,function(dd){if(c9&&c9.to==c6){c9=c5.shift()
}if(!c9||c9.from>c6){if(dd.hidden){var dc=da.innerHTML="<pre></pre>"
}else{var dc="<pre"+(dd.className?' class="'+dd.className+'"':"")+">"+dd.getHTML(bv)+"</pre>";
if(dd.bgClassName){dc='<div style="position: relative"><pre class="'+dd.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+dc+"</div>"
}}da.innerHTML=dc;
bq.insertBefore(da.firstChild,c0)
}else{c0=c0.nextSibling
}++c6
})
}function cO(){if(!bW.gutter&&!bW.lineNumbers){return
}var c0=bH.offsetHeight,cZ=ch.clientHeight;
a3.style.height=(c0-cZ<2?cZ:c0)+"px";
var c1=[],c2=cx,c5;
aJ.iter(cx,Math.max(cy,cx+1),function(da){if(da.hidden){c1.push("<pre></pre>")
}else{var db=da.gutterMarker;
var dc=bW.lineNumbers?c2+bW.firstLineNumber:null;
if(db&&db.text){dc=db.text.replace("%N%",dc!=null?dc:"")
}else{if(dc==null){dc="\u00a0"
}}c1.push((db&&db.style?'<pre class="'+db.style+'">':"<pre>"),dc);
for(var c9=1;
c9<da.height;
++c9){c1.push("<br/>&#160;")
}c1.push("</pre>");
if(!db){c5=c2
}}++c2
});
a3.style.display="none";
a6.innerHTML=c1.join("");
if(c5!=null){var c4=a6.childNodes[c5-cx];
var c3=String(aJ.size).length,c8=w(c4),c6="";
while(c8.length+c6.length<c3){c6+="\u00a0"
}if(c6){c4.insertBefore(document.createTextNode(c6),c4.firstChild)
}}a3.style.display="";
var c7=Math.abs((parseInt(bs.style.marginLeft)||0)-a3.offsetWidth)>2;
bs.style.marginLeft=a3.offsetWidth+"px";
a5=false;
return c7
}function cT(){var c2=aa(cj.from,cj.to);
var c3=bu(cj.from,true);
var dc=c2?c3:bu(cj.to,true);
var c4=cj.inverted?c3:dc,db=cI();
var dd=v(cX),c6=v(bq);
bh.style.top=Math.max(0,Math.min(ch.offsetHeight,c4.y+c6.top-dd.top))+"px";
bh.style.left=Math.max(0,Math.min(ch.offsetWidth,c4.x+c6.left-dd.left))+"px";
if(c2){aF.style.top=c4.y+"px";
aF.style.left=(bW.lineWrapping?Math.min(c4.x,bs.offsetWidth):c4.x)+"px";
aF.style.display="";
cl.style.display="none"
}else{var da=c3.y==dc.y,c5="";
var c1=bs.clientWidth||bs.offsetWidth;
var c0=bs.clientHeight||bs.offsetHeight;
function cZ(df,di,dg,de){var dh=ac?"width: "+(!dg?c1:c1-dg-df)+"px":"right: "+dg+"px";
c5+='<div class="CodeMirror-selected" style="position: absolute; left: '+df+"px; top: "+di+"px; "+dh+"; height: "+de+'px"></div>'
}if(cj.from.ch&&c3.y>=0){var c9=da?c1-dc.x:0;
cZ(c3.x,c3.y,c9,db)
}var c8=Math.max(0,c3.y+(cj.from.ch?db:0));
var c7=Math.min(dc.y,c0)-c8;
if(c7>0.2*db){cZ(0,c8,0,c7)
}if((!da||!cj.from.ch)&&dc.y<c0-0.5*db){cZ(0,dc.y,c1-dc.x,db)
}cl.innerHTML=c5;
aF.style.display="none";
cl.style.display=""
}}function cu(cZ){if(cZ){cw=cw||(cj.inverted?cj.to:cj.from)
}else{cw=null
}}function ct(cZ,c1){var c0=cw&&aA(cw);
if(c0){if(ab(c0,cZ)){cZ=c0
}else{if(ab(c1,c0)){c1=c0
}}}cs(cZ,c1);
cU=true
}function cs(cZ,c6,c2,c4){a2=null;
if(c2==null){c2=cj.from.line;
c4=cj.to.line
}if(aa(cj.from,cZ)&&aa(cj.to,c6)){return
}if(ab(c6,cZ)){var c5=c6;
c6=cZ;
cZ=c5
}if(cZ.line!=c2){var c0=cz(cZ,c2,cj.from.ch);
if(!c0){cr(cZ.line,false)
}else{cZ=c0
}}if(c6.line!=c4){c6=cz(c6,c4,cj.to.ch)
}if(aa(cZ,c6)){cj.inverted=false
}else{if(aa(cZ,cj.to)){cj.inverted=false
}else{if(aa(c6,cj.from)){cj.inverted=true
}}}if(bW.autoClearEmptyLines&&aa(cj.from,cj.to)){var c1=cj.inverted?cZ:c6;
if(c1.line!=cj.from.line&&cj.from.line<aJ.size){var c3=aW(cj.from.line);
if(/^\s+$/.test(c3.text)){setTimeout(bU(function(){if(c3.parent&&/^\s+$/.test(c3.text)){var c7=S(c3);
ca("",{line:c7,ch:0},{line:c7,ch:c3.text.length})
}},10))
}}}cj.from=cZ;
cj.to=c6;
ck=true
}function cz(c3,c2,c1){function cZ(c6){var c9=c3.line+c6,c7=c6==1?aJ.size:-1;
while(c9!=c7){var c8=aW(c9);
if(!c8.hidden){var c5=c3.ch;
if(c4||c5>c1||c5>c8.text.length){c5=c8.text.length
}return{line:c9,ch:c5}
}c9+=c6
}}var c0=aW(c3.line);
var c4=c3.ch==c0.text.length&&c3.ch!=c1;
if(!c0.hidden){return c3
}if(c3.line>=c2){return cZ(1)||cZ(-1)
}else{return cZ(-1)||cZ(1)
}}function cp(c0,cZ,c2){var c1=aA({line:c0,ch:cZ||0});
(c2?ct:cs)(c1,c1)
}function az(cZ){return Math.max(0,Math.min(cZ,aJ.size-1))
}function aA(c1){if(c1.line<0){return{line:0,ch:0}
}if(c1.line>=aJ.size){return{line:aJ.size-1,ch:aW(aJ.size-1).text.length}
}var cZ=c1.ch,c0=aW(c1.line).text.length;
if(cZ==null||cZ>c0){return{line:c1.line,ch:c0}
}else{if(cZ<0){return{line:c1.line,ch:0}
}else{return c1
}}}function aS(c0,c7){var c1=cj.inverted?cj.from:cj.to,c3=c1.line,cZ=c1.ch;
var c4=aW(c3);
function c2(){for(var c9=c3+c0,c8=c0<0?-1:aJ.size;
c9!=c8;
c9+=c0){var da=aW(c9);
if(!da.hidden){c3=c9;
c4=da;
return true
}}}function c5(c8){if(cZ==(c0<0?0:c4.text.length)){if(!c8&&c2()){cZ=c0<0?c4.text.length:0
}else{return false
}}else{cZ+=c0
}return true
}if(c7=="char"){c5()
}else{if(c7=="column"){c5(true)
}else{if(c7=="word"){var c6=false;
for(;
;
){if(c0<0){if(!c5()){break
}}if(L(c4.text.charAt(cZ))){c6=true
}else{if(c6){if(c0<0){c0=1;
c5()
}break
}}if(c0>0){if(!c5()){break
}}}}}}return{line:c3,ch:cZ}
}function bG(cZ,c1){var c0=cZ<0?cj.from:cj.to;
if(cw||aa(cj.from,cj.to)){c0=aS(cZ,c1)
}cp(c0.line,c0.ch,true)
}function aH(cZ,c0){if(!aa(cj.from,cj.to)){ca("",cj.from,cj.to)
}else{if(cZ<0){ca("",aS(cZ,c0),cj.to)
}else{ca("",cj.from,aS(cZ,c0))
}}cU=true
}var a2=null;
function bI(cZ,c3){var c0=0,c1=bu(cj.inverted?cj.from:cj.to,true);
if(a2!=null){c1.x=a2
}if(c3=="page"){c0=Math.min(ch.clientHeight,window.innerHeight||document.documentElement.clientHeight)
}else{if(c3=="line"){c0=cI()
}}var c2=aE(c1.x,c1.y+c0*cZ+2);
if(c3=="page"){ch.scrollTop+=bu(c2,true).y-c1.y
}cp(c2.line,c2.ch,true);
a2=c1.x
}function cn(c1){var c0=aW(c1.line).text;
var c2=c1.ch,cZ=c1.ch;
while(c2>0&&L(c0.charAt(c2-1))){--c2
}while(cZ<c0.length&&L(c0.charAt(cZ))){++cZ
}ct({line:c1.line,ch:c2},{line:c1.line,ch:cZ})
}function cm(cZ){ct({line:cZ,ch:0},aA({line:cZ+1,ch:0}))
}function bf(c1){if(aa(cj.from,cj.to)){return be(cj.from.line,c1)
}var cZ=cj.to.line-(cj.to.ch?0:1);
for(var c0=cj.from.line;
c0<=cZ;
++c0){be(c0,c1)
}}function be(c7,c2){if(!c2){c2="add"
}if(c2=="smart"){if(!bF.indent){c2="prev"
}else{var c9=aZ(c7)
}}var c6=aW(c7),cZ=c6.indentation(bW.tabSize),c0=c6.text.match(/^\s*/)[0],c4;
if(c2=="prev"){if(c7){c4=aW(c7-1).indentation(bW.tabSize)
}else{c4=0
}}else{if(c2=="smart"){c4=bF.indent(c9,c6.text.slice(c0.length),c6.text)
}else{if(c2=="add"){c4=cZ+bW.indentUnit
}else{if(c2=="subtract"){c4=cZ-bW.indentUnit
}}}}c4=Math.max(0,c4);
var c1=c4-cZ;
if(!c1){if(cj.from.line!=c7&&cj.to.line!=c7){return
}var c5=c0
}else{var c5="",c8=0;
if(bW.indentWithTabs){for(var c3=Math.floor(c4/bW.tabSize);
c3;
--c3){c8+=bW.tabSize;
c5+="\t"
}}while(c8<c4){++c8;
c5+=" "
}}ca(c5,{line:c7,ch:0},{line:c7,ch:c0.length})
}function bt(){bF=e.getMode(bW,bW.mode);
aJ.iter(0,aJ.size,function(cZ){cZ.stateAfter=null
});
cW=[0];
cC()
}function a4(){var cZ=bW.gutter||bW.lineNumbers;
a3.style.display=cZ?"":"none";
if(cZ){a5=true
}else{bq.parentNode.style.marginLeft=0
}}function cY(cZ,c1){if(bW.lineWrapping){cX.className+=" CodeMirror-wrap";
var c0=ch.clientWidth/ay()-3;
aJ.iter(0,aJ.size,function(c3){if(c3.hidden){return
}var c2=Math.ceil(c3.text.length/c0)||1;
if(c2!=1){cQ(c3,c2)
}});
bs.style.width=aB.style.width=""
}else{cX.className=cX.className.replace(" CodeMirror-wrap","");
bA=null;
bz="";
aJ.iter(0,aJ.size,function(c2){if(c2.height!=1&&!c2.hidden){cQ(c2,1)
}if(c2.text.length>bz.length){bz=c2.text
}})
}aw.push({from:0,to:aJ.size})
}function bv(c0){var c3=bW.tabSize-c0%bW.tabSize,cZ=cF[c3];
if(cZ){return cZ
}for(var c2='<span class="cm-tab">',c1=0;
c1<c3;
++c1){c2+=" "
}return(cF[c3]={html:c2+"</span>",width:c3})
}function cK(){ch.className=ch.className.replace(/\s*cm-s-\S+/g,"")+bW.theme.replace(/(^|\s)\s*/g," cm-s-")
}function cJ(){this.set=[]
}cJ.prototype.clear=bU(function(){var c5=Infinity,c4=-Infinity;
for(var c0=0,cZ=this.set.length;
c0<cZ;
++c0){var c2=this.set[c0],c6=c2.marked;
if(!c6||!c2.parent){continue
}var c3=S(c2);
c5=Math.min(c5,c3);
c4=Math.max(c4,c3);
for(var c1=0;
c1<c6.length;
++c1){if(c6[c1].marker==this){c6.splice(c1--,1)
}}}if(c5!=Infinity){aw.push({from:c5,to:c4+1})
}});
cJ.prototype.find=function(){var c1,c7;
for(var c2=0,cZ=this.set.length;
c2<cZ;
++c2){var c4=this.set[c2],c6=c4.marked;
for(var c3=0;
c3<c6.length;
++c3){var c5=c6[c3];
if(c5.marker==this){if(c5.from!=null||c5.to!=null){var c0=S(c4);
if(c0!=null){if(c5.from!=null){c1={line:c0,ch:c5.from}
}if(c5.to!=null){c7={line:c0,ch:c5.to}
}}}}}}return{from:c1,to:c7}
};
function bw(c2,c5,c0){c2=aA(c2);
c5=aA(c5);
var c4=new cJ();
if(!ab(c2,c5)){return c4
}function cZ(c8,c7,c9,c6){aW(c8).addMark(new W(c7,c9,c6,c4))
}if(c2.line==c5.line){cZ(c2.line,c2.ch,c5.ch,c0)
}else{cZ(c2.line,c2.ch,null,c0);
for(var c3=c2.line+1,c1=c5.line;
c3<c1;
++c3){cZ(c3,null,null,c0)
}cZ(c5.line,null,c5.ch,c0)
}aw.push({from:c2.line,to:c5.line+1});
return c4
}function co(c0){c0=aA(c0);
var cZ=new b(c0.ch);
aW(c0.line).addMark(cZ);
return cZ
}function aR(c4){c4=aA(c4);
var c3=[],c2=aW(c4.line).marked;
if(!c2){return c3
}for(var c0=0,cZ=c2.length;
c0<cZ;
++c0){var c1=c2[c0];
if((c1.from==null||c1.from<=c4.ch)&&(c1.to==null||c1.to>=c4.ch)){c3.push(c1.marker||c1)
}}return c3
}function am(c0,c1,cZ){if(typeof c0=="number"){c0=aW(az(c0))
}c0.gutterMarker={text:c1,style:cZ};
a5=true;
return c0
}function b9(cZ){if(typeof cZ=="number"){cZ=aW(az(cZ))
}cZ.gutterMarker=null;
a5=true
}function av(cZ,c2){var c1=cZ,c0=cZ;
if(typeof cZ=="number"){c0=aW(az(cZ))
}else{c1=S(cZ)
}if(c1==null){return null
}if(c2(c0,c1)){aw.push({from:c1,to:c1+1})
}else{return null
}return c0
}function cq(c1,c0,cZ){return av(c1,function(c2){if(c2.className!=c0||c2.bgClassName!=cZ){c2.className=c0;
c2.bgClassName=cZ;
return true
}})
}function cr(cZ,c0){return av(cZ,function(c3,c4){if(c3.hidden!=c0){c3.hidden=c0;
cQ(c3,c0?0:1);
var c1=cj.from.line,c5=cj.to.line;
if(c0&&(c1==c4||c5==c4)){var c2=c1==c4?cz({line:c1,ch:0},c1,0):cj.from;
var c6=c5==c4?cz({line:c5,ch:0},c5,0):cj.to;
if(!c6){return
}cs(c2,c6)
}return(a5=true)
}})
}function br(cZ){if(typeof cZ=="number"){if(!bj(cZ)){return null
}var c1=cZ;
cZ=aW(cZ);
if(!cZ){return null
}}else{var c1=S(cZ);
if(c1==null){return null
}}var c0=cZ.gutterMarker;
return{line:c1,handle:cZ,text:cZ.text,markerText:c0&&c0.text,markerClass:c0&&c0.style,lineClass:cZ.className,bgClass:cZ.bgClassName}
}function cD(cZ){bC.innerHTML="<pre><span>x</span></pre>";
bC.firstChild.firstChild.firstChild.nodeValue=cZ;
return bC.firstChild.firstChild.offsetWidth||10
}function ax(c4,db){if(db<=0){return 0
}var c5=aW(c4),c8=c5.text;
function c3(dc){return bD(c5,dc).left
}var c1=0,c2=0,c9=c8.length,da;
var cZ=Math.min(c9,Math.ceil(db/ay()));
for(;
;
){var c0=c3(cZ);
if(c0<=db&&cZ<c9){cZ=Math.min(c9,Math.ceil(cZ*1.2))
}else{da=c0;
c9=cZ;
break
}}if(db>da){return c9
}cZ=Math.floor(c9*0.8);
c0=c3(cZ);
if(c0<db){c1=cZ;
c2=c0
}for(;
;
){if(c9-c1<=1){return(da-db>db-c2)?c1:c9
}var c6=Math.ceil((c1+c9)/2),c7=c3(c6);
if(c7>db){c9=c6;
da=c7
}else{c1=c6;
c2=c7
}}}var cG="CodeMirror-temp-"+Math.floor(Math.random()*16777215).toString(16);
function bD(c3,c0){if(c0==0){return{top:0,left:0}
}var c5=bW.lineWrapping&&c0<c3.text.length&&af.test(c3.text.slice(c0-1,c0+1));
bC.innerHTML="<pre>"+c3.getHTML(bv,c0,cG,c5)+"</pre>";
var c1=document.getElementById(cG);
var c4=c1.offsetTop,c2=c1.offsetLeft;
if(G&&c4==0&&c2==0){var cZ=document.createElement("span");
cZ.innerHTML="x";
c1.parentNode.insertBefore(cZ,c1.nextSibling);
c4=cZ.offsetTop
}return{top:c4,left:c2}
}function bu(c1,cZ){var c3,c0=cI(),c4=c0*(D(aJ,c1.line)-(cZ?aI:0));
if(c1.ch==0){c3=0
}else{var c2=bD(aW(c1.line),c1.ch);
c3=c2.left;
if(bW.lineWrapping){c4+=Math.max(0,c2.top)
}}return{x:c3,y:c4,yBot:c4+c0}
}function aE(dg,dh){if(dh<0){dh=0
}var dc=cI(),cZ=ay(),c5=aI+Math.floor(dh/dc);
var c7=R(aJ,c5);
if(c7>=aJ.size){return{line:aJ.size-1,ch:aW(aJ.size-1).text.length}
}var c8=aW(c7),db=c8.text;
var df=bW.lineWrapping,c6=df?c5-D(aJ,c7):0;
if(dg<=0&&c6==0){return{line:c7,ch:0}
}function c4(di){var dk=bD(c8,di);
if(df){var dj=Math.round(dk.top/dc);
return Math.max(0,dk.left+(dj-c6)*ch.clientWidth)
}return dk.left
}var c2=0,c3=0,dd=db.length,de;
var c0=Math.min(dd,Math.ceil((dg+c6*ch.clientWidth*0.9)/cZ));
for(;
;
){var c1=c4(c0);
if(c1<=dg&&c0<dd){c0=Math.min(dd,Math.ceil(c0*1.2))
}else{de=c1;
dd=c0;
break
}}if(dg>de){return{line:c7,ch:dd}
}c0=Math.floor(dd*0.8);
c1=c4(c0);
if(c1<dg){c2=c0;
c3=c1
}for(;
;
){if(dd-c2<=1){return{line:c7,ch:(de-dg>dg-c3)?c2:dd}
}var c9=Math.ceil((c2+dd)/2),da=c4(c9);
if(da>dg){dd=c9;
de=da
}else{c2=c9;
c3=da
}}}function b0(c1){var cZ=bu(c1,true),c0=v(bs);
return{x:c0.left+cZ.x,y:c0.top+cZ.y,yBot:c0.top+cZ.yBot}
}var ap,aq,bE;
function cI(){if(bE==null){bE="<pre>";
for(var cZ=0;
cZ<49;
++cZ){bE+="x<br/>"
}bE+="x</pre>"
}var c0=bq.clientHeight;
if(c0==aq){return ap
}aq=c0;
bC.innerHTML=bE;
ap=bC.firstChild.offsetHeight/50||1;
bC.innerHTML="";
return ap
}var ar,at=0;
function ay(){if(ch.clientWidth==at){return ar
}at=ch.clientWidth;
return(ar=cD("x"))
}function bZ(){return bs.offsetTop
}function bY(){return bs.offsetLeft
}function b5(cZ,c0){var c2=v(ch,true),c3,c4;
try{c3=cZ.clientX;
c4=cZ.clientY
}catch(cZ){return null
}if(!c0&&(c3-c2.left>ch.clientWidth||c4-c2.top>ch.clientHeight)){return null
}var c1=v(bs,true);
return aE(c3-c1.left,c4-c1.top)
}function bL(cZ){var c2=b5(cZ),c4=ch.scrollTop;
if(!c2||window.opera){return
}if(aa(cj.from,cj.to)||ab(c2,cj.from)||!ab(c2,cj.to)){bU(cp)(c2.line,c2.ch)
}var c1=bg.style.cssText;
bh.style.position="absolute";
bg.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(cZ.clientY-5)+"px; left: "+(cZ.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
bp=true;
var c5=bg.value=aY();
aV();
ae(bg);
function c3(){var c6=ag(bg.value).join("\n");
if(c6!=c5){bU(cc)(c6,"end")
}bh.style.position="relative";
bg.style.cssText=c1;
if(H){ch.scrollTop=c4
}bp=false;
cd(true);
cA()
}if(z){r(cZ);
var c0=h(window,"mouseup",function(){c0();
setTimeout(c3,20)
},true)
}else{setTimeout(c3,50)
}}function ce(){clearInterval(an);
var cZ=true;
aF.style.visibility="";
an=setInterval(function(){aF.style.visibility=(cZ=!cZ)?"":"hidden"
},650)
}var by={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};
function bx(cZ){var c7=cj.inverted?cj.from:cj.to,c9=aW(c7.line),dd=c7.ch-1;
var da=(dd>=0&&by[c9.text.charAt(dd)])||by[c9.text.charAt(++dd)];
if(!da){return
}var c0=da.charAt(0),c5=da.charAt(1)==">",c2=c5?1:-1,dg=c9.styles;
for(var db=dd+1,c8=0,c3=dg.length;
c8<c3;
c8+=2){if((db-=dg[c8].length)<=0){var di=dg[c8+1];
break
}}var dh=[c9.text.charAt(dd)],de=/[(){}[\]]/;
function df(dq,dm,dw){if(!dq.text){return
}var dt=dq.styles,ds=c5?0:dq.text.length-1,dk;
for(var dn=c5?0:dt.length-2,dl=c5?dt.length:-2;
dn!=dl;
dn+=2*c2){var dv=dt[dn];
if(dt[dn+1]!=null&&dt[dn+1]!=di){ds+=c2*dv.length;
continue
}for(var dp=c5?0:dv.length-1,du=c5?dv.length:-1;
dp!=du;
dp+=c2,ds+=c2){if(ds>=dm&&ds<dw&&de.test(dk=dv.charAt(dp))){var dr=by[dk];
if(dr.charAt(1)==">"==c5){dh.push(dk)
}else{if(dh.pop()!=dr.charAt(0)){return{pos:ds,match:false}
}else{if(!dh.length){return{pos:ds,match:true}
}}}}}}}for(var c8=c7.line,c3=c5?Math.min(c8+100,aJ.size):Math.max(-1,c8-100);
c8!=c3;
c8+=c2){var c9=aW(c8),c4=c8==c7.line;
var c6=df(c9,c4&&c5?dd+1:0,c4&&!c5?dd:c9.text.length);
if(c6){break
}}if(!c6){c6={pos:null,match:false}
}var di=c6.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";
var dc=bw({line:c7.line,ch:dd},{line:c7.line,ch:dd+1},di),dj=c6.pos!=null&&bw({line:c8,ch:c6.pos},{line:c8,ch:c6.pos+1},di);
var c1=bU(function(){dc.clear();
dj&&dj.clear()
});
if(cZ){setTimeout(c1,800)
}else{ao=c1
}}function aT(c4){var c2,c3;
for(var c5=c4,c0=c4-40;
c5>c0;
--c5){if(c5==0){return 0
}var c1=aW(c5-1);
if(c1.stateAfter){return c5
}var cZ=c1.indentation(bW.tabSize);
if(c3==null||c2>cZ){c3=c5-1;
c2=cZ
}}return c3
}function aZ(cZ){var c0=aT(cZ),c1=c0&&aW(c0-1).stateAfter;
if(!c1){c1=ah(bF)
}else{c1=j(bF,c1)
}aJ.iter(c0,cZ,function(c2){c2.highlight(bF,c1,bW.tabSize);
c2.stateAfter=j(bF,c1)
});
if(c0<cZ){aw.push({from:c0,to:cZ})
}if(cZ<aJ.size&&!aW(cZ).stateAfter){cW.push(cZ)
}return c1
}function bb(c0,cZ){var c1=aZ(c0);
aJ.iter(c0,cZ,function(c2){c2.highlight(bF,c1,bW.tabSize);
c2.stateAfter=j(bF,c1)
})
}function bc(){var c1=+new Date+bW.workTime;
var c2=cW.length;
while(cW.length){if(!aW(cx).stateAfter){var c7=cx
}else{var c7=cW.pop()
}if(c7>=aJ.size){continue
}var c5=aT(c7),c6=c5&&aW(c5-1).stateAfter;
if(c6){c6=j(bF,c6)
}else{c6=ah(bF)
}var c8=0,c0=bF.compareStates,c4=false,c3=c5,cZ=false;
aJ.iter(c3,aJ.size,function(dc){var db=dc.stateAfter;
if(+new Date>c1){cW.push(c3);
cC(bW.workDelay);
if(c4){aw.push({from:c7,to:c3+1})
}return(cZ=true)
}var c9=dc.highlight(bF,c6,bW.tabSize);
if(c9){c4=true
}dc.stateAfter=j(bF,c6);
var da=null;
if(c0){var dd=db&&c0(db,c6);
if(dd!=Z){da=!!dd
}}if(da==null){if(c9!==false||!db){c8=0
}else{if(++c8>3&&(!bF.indent||bF.indent(db,"")==bF.indent(c6,""))){da=true
}}}if(da){return true
}++c3
});
if(cZ){return
}if(c4){aw.push({from:c7,to:c3+1})
}}if(c2&&bW.onHighlightComplete){bW.onHighlightComplete(bi)
}}function cC(cZ){if(!cW.length){return
}ba.set(cZ,bU(bc))
}function cB(){cP=cU=cH=null;
aw=[];
ck=false;
au=[]
}function aO(){var c1=false,c3;
if(ck){c1=!cf()
}if(aw.length){c3=cN(aw,true)
}else{if(ck){cT()
}if(a5){cO()
}}if(c1){cf()
}if(ck){cg();
ce()
}if(aU&&!bp&&(cP===true||(cP!==false&&ck))){cd(cU)
}if(ck&&bW.matchBrackets){setTimeout(bU(function(){if(ao){ao();
ao=null
}if(aa(cj.from,cj.to)){bx(false)
}}),20)
}var c2=cH,cZ=au;
if(ck&&bW.onCursorActivity){bW.onCursorActivity(bi)
}if(c2&&bW.onChange&&bi){bW.onChange(bi,c2)
}for(var c0=0;
c0<cZ.length;
++c0){cZ[c0](bi)
}if(c3&&bW.onUpdate){bW.onUpdate(bi)
}}var bJ=0;
function bU(cZ){return function(){if(!bJ++){cB()
}try{var c0=cZ.apply(this,arguments)
}finally{if(!--bJ){aO()
}}return c0
}
}function aC(cZ){bd.startCompound();
try{return cZ()
}finally{bd.endCompound()
}}for(var aP in y){if(y.propertyIsEnumerable(aP)&&!bi.propertyIsEnumerable(aP)){bi[aP]=y[aP]
}}return bi
}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};
var J=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);
var V=J||/Mac/.test(navigator.platform);
var al=/Win/.test(navigator.platform);
var Y=e.modes={},X=e.mimeModes={};
e.defineMode=function(ao,an){if(!e.defaults.mode&&ao!="null"){e.defaults.mode=ao
}if(arguments.length>2){an.dependencies=[];
for(var am=2;
am<arguments.length;
++am){an.dependencies.push(arguments[am])
}}Y[ao]=an
};
e.defineMIME=function(am,an){X[am]=an
};
e.resolveMode=function(am){if(typeof am=="string"&&X.hasOwnProperty(am)){am=X[am]
}else{if(typeof am=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(am)){return e.resolveMode("application/xml")
}}if(typeof am=="string"){return{name:am}
}else{return am||{name:"null"}
}};
e.getMode=function(an,ao){var ao=e.resolveMode(ao);
var am=Y[ao.name];
if(!am){return e.getMode(an,"text/plain")
}return am(an,ao)
};
e.listModes=function(){var am=[];
for(var an in Y){if(Y.propertyIsEnumerable(an)){am.push(an)
}}return am
};
e.listMIMEs=function(){var am=[];
for(var an in X){if(X.propertyIsEnumerable(an)){am.push({mime:an,mode:X[an]})
}}return am
};
var y=e.extensions={};
e.defineExtension=function(an,am){y[an]=am
};
var f=e.commands={selectAll:function(am){am.setSelection({line:0,ch:0},{line:am.lineCount()-1})
},killLine:function(am){var an=am.getCursor(true),ap=am.getCursor(false),ao=!aa(an,ap);
if(!ao&&am.getLine(an.line).length==an.ch){am.replaceRange("",an,{line:an.line+1,ch:0})
}else{am.replaceRange("",an,ao?ap:{line:an.line})
}},deleteLine:function(am){var an=am.getCursor().line;
am.replaceRange("",{line:an,ch:0},{line:an})
},undo:function(am){am.undo()
},redo:function(am){am.redo()
},goDocStart:function(am){am.setCursor(0,0,true)
},goDocEnd:function(am){am.setSelection({line:am.lineCount()-1},null,true)
},goLineStart:function(am){am.setCursor(am.getCursor().line,0,true)
},goLineStartSmart:function(am){var an=am.getCursor();
var ap=am.getLine(an.line),ao=Math.max(0,ap.search(/\S/));
am.setCursor(an.line,an.ch<=ao&&an.ch?0:ao,true)
},goLineEnd:function(am){am.setSelection({line:am.getCursor().line},null,true)
},goLineUp:function(am){am.moveV(-1,"line")
},goLineDown:function(am){am.moveV(1,"line")
},goPageUp:function(am){am.moveV(-1,"page")
},goPageDown:function(am){am.moveV(1,"page")
},goCharLeft:function(am){am.moveH(-1,"char")
},goCharRight:function(am){am.moveH(1,"char")
},goColumnLeft:function(am){am.moveH(-1,"column")
},goColumnRight:function(am){am.moveH(1,"column")
},goWordLeft:function(am){am.moveH(-1,"word")
},goWordRight:function(am){am.moveH(1,"word")
},delCharLeft:function(am){am.deleteH(-1,"char")
},delCharRight:function(am){am.deleteH(1,"char")
},delWordLeft:function(am){am.deleteH(-1,"word")
},delWordRight:function(am){am.deleteH(1,"word")
},indentAuto:function(am){am.indentSelection("smart")
},indentMore:function(am){am.indentSelection("add")
},indentLess:function(am){am.indentSelection("subtract")
},insertTab:function(am){am.replaceSelection("\t","end")
},transposeChars:function(am){var an=am.getCursor(),ao=am.getLine(an.line);
if(an.ch>0&&an.ch<ao.length-1){am.replaceRange(ao.charAt(an.ch)+ao.charAt(an.ch-1),{line:an.line,ch:an.ch-1},{line:an.line,ch:an.ch+1})
}},newlineAndIndent:function(am){am.replaceSelection("\n","end");
am.indentLine(am.getCursor().line)
},toggleOverwrite:function(am){am.toggleOverwrite()
}};
var M=e.keyMap={};
M.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"insertTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};
M.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};
M.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};
M["default"]=V?M.macDefault:M.pcDefault;
M.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};
function A(am){if(typeof am=="string"){return M[am]
}else{return am
}}function U(aq,am,ap,an,ar){function ao(ax){ax=A(ax);
var av=ax[aq];
if(av!=null&&an(av)){return true
}if(ax.nofallthrough){if(ar){ar()
}return true
}var au=ax.fallthrough;
if(au==null){return false
}if(Object.prototype.toString.call(au)!="[object Array]"){return ao(au)
}for(var aw=0,at=au.length;
aw<at;
++aw){if(ao(au[aw])){return true
}}return false
}if(am&&ao(am)){return true
}return ao(ap)
}function K(am){var an=N[q(am,"keyCode")];
return an=="Ctrl"||an=="Alt"||an=="Shift"||an=="Mod"
}e.fromTextArea=function(ar,an){if(!an){an={}
}an.value=ar.value;
if(!an.tabindex&&ar.tabindex){an.tabindex=ar.tabindex
}if(an.autofocus==null&&ar.getAttribute("autofocus")!=null){an.autofocus=true
}function aq(){ar.value=am.getValue()
}if(ar.form){var ap=h(ar.form,"submit",aq,true);
if(typeof ar.form.submit=="function"){var ao=ar.form.submit;
function at(){aq();
ar.form.submit=ao;
ar.form.submit();
ar.form.submit=at
}ar.form.submit=at
}}ar.style.display="none";
var am=e(function(au){ar.parentNode.insertBefore(au,ar.nextSibling)
},an);
am.save=aq;
am.getTextArea=function(){return ar
};
am.toTextArea=function(){aq();
ar.parentNode.removeChild(am.getWrapperElement());
ar.style.display="";
if(ar.form){ap();
if(typeof ar.form.submit=="function"){ar.form.submit=ao
}}};
return am
};
function j(am,ap){if(ap===true){return ap
}if(am.copyState){return am.copyState(ap)
}var ao={};
for(var an in ap){var aq=ap[an];
if(aq instanceof Array){aq=aq.concat([])
}ao[an]=aq
}return ao
}e.copyState=j;
function ah(ao,am,an){return ao.startState?ao.startState(am,an):true
}e.startState=ah;
function aj(am,an){this.pos=this.start=0;
this.string=am;
this.tabSize=an||8
}aj.prototype={eol:function(){return this.pos>=this.string.length
},sol:function(){return this.pos==0
},peek:function(){return this.string.charAt(this.pos)
},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)
}},eat:function(an){var am=this.string.charAt(this.pos);
if(typeof an=="string"){var ao=am==an
}else{var ao=am&&(an.test?an.test(am):an(am))
}if(ao){++this.pos;
return am
}},eatWhile:function(am){var an=this.pos;
while(this.eat(am)){}return this.pos>an
},eatSpace:function(){var am=this.pos;
while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos
}return this.pos>am
},skipToEnd:function(){this.pos=this.string.length
},skipTo:function(am){var an=this.string.indexOf(am,this.pos);
if(an>-1){this.pos=an;
return true
}},backUp:function(am){this.pos-=am
},column:function(){return l(this.string,this.start,this.tabSize)
},indentation:function(){return l(this.string,null,this.tabSize)
},match:function(aq,ao,an){if(typeof aq=="string"){function am(ar){return an?ar.toLowerCase():ar
}if(am(this.string).indexOf(am(aq),this.pos)==this.pos){if(ao!==false){this.pos+=aq.length
}return true
}}else{var ap=this.string.slice(this.pos).match(aq);
if(ap&&ao!==false){this.pos+=ap[0].length
}return ap
}},current:function(){return this.string.slice(this.start,this.pos)
}};
e.StringStream=aj;
function W(an,ap,am,ao){this.from=an;
this.to=ap;
this.style=am;
this.marker=ao
}W.prototype={attach:function(am){this.marker.set.push(am)
},detach:function(an){var am=I(this.marker.set,an);
if(am>-1){this.marker.set.splice(am,1)
}},split:function(ao,an){if(this.to<=ao&&this.to!=null){return null
}var am=this.from<ao||this.from==null?null:this.from-ao+an;
var ap=this.to==null?null:this.to-ao+an;
return new W(am,ap,this.style,this.marker)
},dup:function(){return new W(null,null,this.style,this.marker)
},clipTo:function(ao,an,aq,ap,am){if(ao&&ap>this.from&&(ap<this.to||this.to==null)){this.from=null
}else{if(this.from!=null&&this.from>=an){this.from=Math.max(ap,this.from)+am
}}if(aq&&(an<this.to||this.to==null)&&(an>this.from||this.from==null)){this.to=null
}else{if(this.to!=null&&this.to>an){this.to=ap<this.to?this.to+am:an
}}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to
},sameSet:function(am){return this.marker==am.marker
}};
function b(am){this.from=am;
this.to=am;
this.line=null
}b.prototype={attach:function(am){this.line=am
},detach:function(am){if(this.line==am){this.line=null
}},split:function(an,am){if(an<this.from){this.from=this.to=(this.from-an)+am;
return this
}},isDead:function(){return this.from>this.to
},clipTo:function(ao,an,aq,ap,am){if((ao||an<this.from)&&(aq||ap>this.to)){this.from=0;
this.to=-1
}else{if(this.from>an){this.from=this.to=Math.max(ap,this.from)+am
}}},sameSet:function(am){return false
},find:function(){if(!this.line||!this.line.parent){return null
}return{line:S(this.line),ch:this.from}
},clear:function(){if(this.line){var am=I(this.line.marked,this);
if(am!=-1){this.line.marked.splice(am,1)
}this.line=null
}}};
function Q(an,am){this.styles=am||[an,null];
this.text=an;
this.height=1;
this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null;
this.stateAfter=this.parent=this.hidden=null
}Q.inheritMarks=function(au,at){var an=new Q(au),ap=at&&at.marked;
if(ap){for(var am=0;
am<ap.length;
++am){if(ap[am].to==null&&ap[am].style){var aq=an.marked||(an.marked=[]),ao=ap[am];
var ar=ao.dup();
aq.push(ar);
ar.attach(an)
}}}return an
};
Q.prototype={replace:function(an,av,at){var ar=[],aq=this.marked,au=av==null?this.text.length:av;
k(0,an,this.styles,ar);
if(at){ar.push(at,null)
}k(au,this.text.length,this.styles,ar);
this.styles=ar;
this.text=this.text.slice(0,an)+at+this.text.slice(au);
this.stateAfter=null;
if(aq){var am=at.length-(au-an);
for(var ao=0;
ao<aq.length;
++ao){var ap=aq[ao];
ap.clipTo(an==null,an||0,av==null,au,am);
if(ap.isDead()){ap.detach(this);
aq.splice(ao--,1)
}}}},split:function(aq,au){var ar=[au,null],ao=this.marked;
k(aq,this.text.length,this.styles,ar);
var at=new Q(au+this.text.slice(aq),ar);
if(ao){for(var am=0;
am<ao.length;
++am){var an=ao[am];
var ap=an.split(aq,au.length);
if(ap){if(!at.marked){at.marked=[]
}at.marked.push(ap);
ap.attach(at);
if(ap==an){ao.splice(am--,1)
}}}}return at
},append:function(ao){var ar=this.text.length,aq=ao.marked,au=this.marked;
this.text+=ao.text;
k(0,ao.text.length,ao.styles,this.styles);
if(au){for(var am=0;
am<au.length;
++am){if(au[am].to==null){au[am].to=ar
}}}if(aq&&aq.length){if(!au){this.marked=au=[]
}outer:for(var am=0;
am<aq.length;
++am){var ap=aq[am];
if(!ap.from){for(var an=0;
an<au.length;
++an){var at=au[an];
if(at.to==ar&&at.sameSet(ap)){at.to=ap.to==null?null:ap.to+ar;
if(at.isDead()){at.detach(this);
aq.splice(am--,1)
}continue outer
}}}au.push(ap);
ap.attach(this);
ap.from+=ar;
if(ap.to!=null){ap.to+=ar
}}}},fixMarkEnds:function(at){var aq=this.marked,ar=at.marked;
if(!aq){return
}for(var an=0;
an<aq.length;
++an){var ap=aq[an],am=ap.to==null;
if(am&&ar){for(var ao=0;
ao<ar.length;
++ao){if(ar[ao].sameSet(ap)){am=false;
break
}}}if(am){ap.to=this.text.length
}}},fixMarkStarts:function(){var an=this.marked;
if(!an){return
}for(var am=0;
am<an.length;
++am){if(an[am].from==null){an[am].from=0
}}},addMark:function(am){am.attach(this);
if(this.marked==null){this.marked=[]
}this.marked.push(am);
this.marked.sort(function(an,ao){return(an.from||0)-(ao.from||0)
})
},highlight:function(ao,at,ax){var au=new aj(this.text,ax),ar=this.styles,ap=0;
var am=false,an=ar[0],aq;
if(this.text==""&&ao.blankLine){ao.blankLine(at)
}while(!au.eol()){var av=ao.token(au,at);
var aw=this.text.slice(au.start,au.pos);
au.start=au.pos;
if(ap&&ar[ap-1]==av){ar[ap-2]+=aw
}else{if(aw){if(!am&&(ar[ap+1]!=av||(ap&&ar[ap-2]!=aq))){am=true
}ar[ap++]=aw;
ar[ap++]=av;
aq=an;
an=ar[ap]
}}if(au.pos>5000){ar[ap++]=this.text.slice(au.pos);
ar[ap++]=null;
break
}}if(ar.length!=ap){ar.length=ap;
am=true
}if(ap&&ar[ap-2]!=aq){am=true
}return am||(ar.length<5&&this.text.length<10?null:false)
},getTokenAt:function(an,ao,am){var ar=this.text,ap=new aj(ar);
while(ap.pos<am&&!ap.eol()){ap.start=ap.pos;
var aq=an.token(ap,ao)
}return{start:ap.start,end:ap.pos,string:ap.current(),className:aq||null,state:ao}
},indentation:function(am){return l(this.text,null,am)
},getHTML:function(aA,aR,aS,aT){var au=[],at=true,aq=0;
function aK(aZ,aX){if(!aZ){return
}if(at&&G&&aZ.charAt(0)==" "){aZ="\u00a0"+aZ.slice(1)
}at=false;
if(aZ.indexOf("\t")==-1){aq+=aZ.length;
var aU=F(aZ)
}else{var aU="";
for(var aW=0;
;
){var aV=aZ.indexOf("\t",aW);
if(aV==-1){aU+=F(aZ.slice(aW));
aq+=aZ.length-aW;
break
}else{aq+=aV-aW;
var aY=aA(aq);
aU+=F(aZ.slice(aW,aV))+aY.html;
aq+=aY.width;
aW=aV+1
}}}if(aX){au.push('<span class="',aX,'">',aU,"</span>")
}else{au.push(aU)
}}var aJ=aK;
if(aR!=null){var aG=0,aF='<span id="'+aS+'">';
aJ=function(aW,aV){var aU=aW.length;
if(aR>=aG&&aR<aG+aU){if(aR>aG){aK(aW.slice(0,aR-aG),aV);
if(aT){au.push("<wbr>")
}}au.push(aF);
aK(aW.slice(aR-aG),aV);
au.push("</span>");
aR--;
aG+=aU
}else{aG+=aU;
aK(aW,aV);
if(aG==aR&&aG==ay){au.push(aF+"</span>")
}else{if(aG>aR+10&&/\s/.test(aW)){aJ=function(){}
}}}}
}var aL=this.styles,an=this.text,aB=this.marked;
var ay=an.length;
function aO(aU){if(!aU){return null
}return"cm-"+aU.replace(/ +/g," cm-")
}if(!an&&aR==null){aJ(" ")
}else{if(!aB||!aB.length){for(var av=0,ap=0;
ap<ay;
av+=2){var aM=aL[av],aN=aL[av+1],ax=aM.length;
if(ap+ax>ay){aM=aM.slice(0,ay-ap)
}ap+=ax;
aJ(aM,aO(aN))
}}else{var aH=0,av=0,aP="",aN,aI=0;
var aE=aB[0].from||0,aD=[],aC=0;
function am(){var aV;
while(aC<aB.length&&((aV=aB[aC]).from==aH||aV.from==null)){if(aV.style!=null){aD.push(aV)
}++aC
}aE=aC<aB.length?aB[aC].from:Infinity;
for(var aU=0;
aU<aD.length;
++aU){var aW=aD[aU].to||Infinity;
if(aW==aH){aD.splice(aU--,1)
}else{aE=Math.min(aW,aE)
}}}var az=0;
while(aH<ay){if(aE==aH){am()
}var aQ=Math.min(ay,aE);
while(true){if(aP){var ar=aH+aP.length;
var ao=aN;
for(var aw=0;
aw<aD.length;
++aw){ao=(ao?ao+" ":"")+aD[aw].style
}aJ(ar>aQ?aP.slice(0,aQ-aH):aP,ao);
if(ar>=aQ){aP=aP.slice(aQ-aH);
aH=aQ;
break
}aH=ar
}aP=aL[av++];
aN=aO(aL[av++])
}}}}return au.join("")
},cleanUp:function(){this.parent=null;
if(this.marked){for(var an=0,am=this.marked.length;
an<am;
++an){this.marked[an].detach(this)
}}}};
function k(ao,av,at,am){for(var ap=0,ar=0,au=0;
ar<av;
ap+=2){var aq=at[ap],an=ar+aq.length;
if(au==0){if(an>ao){am.push(aq.slice(ao-ar,Math.min(aq.length,av-ar)),at[ap+1])
}if(an>=ao){au=1
}}else{if(au==1){if(an>av){am.push(aq.slice(0,av-ar),at[ap+1])
}else{am.push(aq,at[ap+1])
}}}ar=an
}}function P(ap){this.lines=ap;
this.parent=null;
for(var ao=0,am=ap.length,an=0;
ao<am;
++ao){ap[ao].parent=this;
an+=ap[ao].height
}this.height=an
}P.prototype={chunkSize:function(){return this.lines.length
},remove:function(am,au,an){for(var ap=am,ao=am+au;
ap<ao;
++ap){var ar=this.lines[ap];
this.height-=ar.height;
ar.cleanUp();
if(ar.handlers){for(var aq=0;
aq<ar.handlers.length;
++aq){an.push(ar.handlers[aq])
}}}this.lines.splice(am,au)
},collapse:function(am){am.splice.apply(am,[am.length,0].concat(this.lines))
},insertHeight:function(am,aq,ao){this.height+=ao;
if(G){this.lines=this.lines.slice(0,am).concat(aq).concat(this.lines.slice(am))
}else{this.lines.splice.apply(this.lines,[am,0].concat(aq))
}for(var ap=0,an=aq.length;
ap<an;
++ap){aq[ap].parent=this
}},iterN:function(am,ao,ap){for(var an=am+ao;
am<an;
++am){if(ap(this.lines[am])){return true
}}}};
function c(an){this.children=an;
var ar=0,ap=0;
for(var aq=0,ao=an.length;
aq<ao;
++aq){var am=an[aq];
ar+=am.chunkSize();
ap+=am.height;
am.parent=this
}this.size=ar;
this.height=ap;
this.parent=null
}c.prototype={chunkSize:function(){return this.size
},remove:function(am,ar,an){this.size-=ar;
for(var ap=0;
ap<this.children.length;
++ap){var ao=this.children[ap],aw=ao.chunkSize();
if(am<aw){var av=Math.min(ar,aw-am),au=ao.height;
ao.remove(am,av,an);
this.height-=au-ao.height;
if(aw==av){this.children.splice(ap--,1);
ao.parent=null
}if((ar-=av)==0){break
}am=0
}else{am-=aw
}}if(this.size-ar<25){var aq=[];
this.collapse(aq);
this.children=[new P(aq)];
this.children[0].parent=this
}},collapse:function(ao){for(var an=0,am=this.children.length;
an<am;
++an){this.children[an].collapse(ao)
}},insert:function(am,aq){var ao=0;
for(var ap=0,an=aq.length;
ap<an;
++ap){ao+=aq[ap].height
}this.insertHeight(am,aq,ao)
},insertHeight:function(am,ar,ap){this.size+=ar.length;
this.height+=ap;
for(var aq=0,ao=this.children.length;
aq<ao;
++aq){var an=this.children[aq],aw=an.chunkSize();
if(am<=aw){an.insertHeight(am,ar,ap);
if(an.lines&&an.lines.length>50){while(an.lines.length>50){var av=an.lines.splice(an.lines.length-25,25);
var au=new P(av);
an.height-=au.height;
this.children.splice(aq+1,0,au);
au.parent=this
}this.maybeSpill()
}break
}am-=aw
}},maybeSpill:function(){if(this.children.length<=10){return
}var an=this;
do{var aq=an.children.splice(an.children.length-5,5);
var ap=new c(aq);
if(!an.parent){var am=new c(an.children);
am.parent=an;
an.children=[am,ap];
an=am
}else{an.size-=ap.size;
an.height-=ap.height;
var ao=I(an.parent.children,an);
an.parent.children.splice(ao+1,0,ap)
}ap.parent=an.parent
}while(an.children.length>10);
an.parent.maybeSpill()
},iter:function(am,ao,an){this.iterN(am,ao-am,an)
},iterN:function(am,aq,ar){for(var ap=0,ao=this.children.length;
ap<ao;
++ap){var an=this.children[ap],au=an.chunkSize();
if(am<au){var av=Math.min(aq,au-am);
if(an.iterN(am,av,ar)){return true
}if((aq-=av)==0){break
}am=0
}else{am-=au
}}}};
function B(an,ap){while(!an.lines){for(var ao=0;
;
++ao){var am=an.children[ao],aq=am.chunkSize();
if(ap<aq){an=am;
break
}ap-=aq
}}return an.lines[ap]
}function S(aq){if(aq.parent==null){return null
}var an=aq.parent,ar=I(an.lines,aq);
for(var am=an.parent;
am;
an=am,am=am.parent){for(var ap=0,ao=am.children.length;
;
++ap){if(am.children[ap]==an){break
}ar+=am.children[ap].chunkSize()
}}return ar
}function R(ao,aq){var av=0;
outer:do{for(var ar=0,ap=ao.children.length;
ar<ap;
++ar){var an=ao.children[ar],am=an.height;
if(aq<am){ao=an;
continue outer
}aq-=am;
av+=an.chunkSize()
}return av
}while(!ao.lines);
for(var ar=0,ap=ao.lines.length;
ar<ap;
++ar){var au=ao.lines[ar],at=au.height;
if(aq<at){break
}aq-=at
}return av+ar
}function D(an,ar){var ap=0;
outer:do{for(var aq=0,ao=an.children.length;
aq<ao;
++aq){var am=an.children[aq],at=am.chunkSize();
if(ar<at){an=am;
continue outer
}ar-=at;
ap+=am.height
}return ap
}while(!an.lines);
for(var aq=0;
aq<ar;
++aq){ap+=an.lines[aq].height
}return ap
}function E(){this.time=0;
this.done=[];
this.undone=[];
this.compound=0;
this.closed=false
}E.prototype={addChange:function(au,am,at){this.undone.length=0;
var aw=+new Date,an=this.done[this.done.length-1],ar=an&&an[an.length-1];
var ao=aw-this.time;
if(this.compound&&an&&!this.closed){an.push({start:au,added:am,old:at})
}else{if(ao>400||!ar||this.closed||ar.start>au+at.length||ar.start+ar.added<au){this.done.push([{start:au,added:am,old:at}]);
this.closed=false
}else{var av=Math.max(0,ar.start-au),ap=Math.max(0,(au+at.length)-(ar.start+ar.added));
for(var aq=av;
aq>0;
--aq){ar.old.unshift(at[aq-1])
}for(var aq=ap;
aq>0;
--aq){ar.old.push(at[at.length-aq])
}if(av){ar.start=au
}ar.added+=am-(at.length-av-ap)
}}this.time=aw
},startCompound:function(){if(!this.compound++){this.closed=true
}},endCompound:function(){if(!--this.compound){this.closed=true
}}};
function ai(){r(this)
}function a(am){if(!am.stop){am.stop=ai
}return am
}function p(am){if(am.preventDefault){am.preventDefault()
}else{am.returnValue=false
}}function s(am){if(am.stopPropagation){am.stopPropagation()
}else{am.cancelBubble=true
}}function r(am){p(am);
s(am)
}e.e_stop=r;
e.e_preventDefault=p;
e.e_stopPropagation=s;
function t(am){return am.target||am.srcElement
}function o(am){if(am.which){return am.which
}else{if(am.button&1){return 1
}else{if(am.button&2){return 3
}else{if(am.button&4){return 2
}}}}}function q(am,ao){var an=am.override&&am.override.hasOwnProperty(ao);
return an?am.override[ao]:am[ao]
}function h(ao,ap,an,am){if(typeof ao.addEventListener=="function"){ao.addEventListener(ap,an,false);
if(am){return function(){ao.removeEventListener(ap,an,false)
}
}}else{var aq=function(ar){an(ar||window.event)
};
ao.attachEvent("on"+ap,aq);
if(am){return function(){ao.detachEvent("on"+ap,aq)
}
}}}e.connect=h;
function m(){this.id=null
}m.prototype={set:function(an,am){clearTimeout(this.id);
this.id=setTimeout(am,an)
}};
var Z=e.Pass={toString:function(){return"CodeMirror.Pass"
}};
var z=/gecko\/\d{7}/i.test(navigator.userAgent);
var G=/MSIE \d/.test(navigator.userAgent);
var H=/MSIE [1-8]\b/.test(navigator.userAgent);
var ac=G&&document.documentMode==5;
var ak=/WebKit\//.test(navigator.userAgent);
var d=/Chrome\//.test(navigator.userAgent);
var ad=/Apple Computer/.test(navigator.vendor);
var O=/KHTML\//.test(navigator.userAgent);
var n=function(){if(H){return false
}var am=document.createElement("div");
return"draggable" in am||"dragDrop" in am
}();
var T=function(){var am=document.createElement("textarea");
am.value="foo\nbar";
if(am.value.indexOf("\r")>-1){return"\r\n"
}return"\n"
}();
var af=/^$/;
if(z){af=/$'/
}else{if(ad){af=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/
}else{if(d){af=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/
}}}function l(ap,am,aq){if(am==null){am=ap.search(/[^\s\u00a0]/);
if(am==-1){am=ap.length
}}for(var an=0,ao=0;
an<am;
++an){if(ap.charAt(an)=="\t"){ao+=aq-(ao%aq)
}else{++ao
}}return ao
}function g(am){if(am.currentStyle){return am.currentStyle
}return window.getComputedStyle(am,null)
}function v(ap,at){var am=ap.ownerDocument.body;
var av=0,aw=0,au=false;
for(var ao=ap;
ao;
ao=ao.offsetParent){var aq=ao.offsetLeft,ar=ao.offsetTop;
if(ao==am){av+=Math.abs(aq);
aw+=Math.abs(ar)
}else{av+=aq,aw+=ar
}if(at&&g(ao).position=="fixed"){au=true
}}var an=at&&!au?null:am;
for(var ao=ap.parentNode;
ao!=an;
ao=ao.parentNode){if(ao.scrollLeft!=null){av-=ao.scrollLeft;
aw-=ao.scrollTop
}}return{left:av,top:aw}
}if(document.documentElement.getBoundingClientRect!=null){v=function(ao,ap){try{var am=ao.getBoundingClientRect();
am={top:am.top,left:am.left}
}catch(an){am={top:0,left:0}
}if(!ap){if(window.pageYOffset==null){var aq=document.documentElement||document.body.parentNode;
if(aq.scrollTop==null){aq=document.body
}am.top+=aq.scrollTop;
am.left+=aq.scrollLeft
}else{am.top+=window.pageYOffset;
am.left+=window.pageXOffset
}}return am
}
}function w(am){return am.textContent||am.innerText||am.nodeValue||""
}function ae(am){if(J){am.selectionStart=0;
am.selectionEnd=am.value.length
}else{am.select()
}}function aa(am,an){return am.line==an.line&&am.ch==an.ch
}function ab(am,an){return am.line<an.line||(am.line==an.line&&am.ch<an.ch)
}function i(am){return{line:am.line,ch:am.ch}
}var x=document.createElement("pre");
function F(am){x.textContent=am;
return x.innerHTML
}if(F("a")=="\na"){F=function(am){x.textContent=am;
return x.innerHTML.slice(1)
}
}else{if(F("\t")!="\t"){F=function(am){x.innerHTML="";
x.appendChild(document.createTextNode(am));
return x.innerHTML
}
}}e.htmlEscape=F;
function u(am,ap){if(!ap){return 0
}if(!am){return ap.length
}for(var an=am.length,ao=ap.length;
an>=0&&ao>=0;
--an,--ao){if(am.charAt(an)!=ap.charAt(ao)){break
}}return ao+1
}function I(am,ao){if(am.indexOf){return am.indexOf(ao)
}for(var ap=0,an=am.length;
ap<an;
++ap){if(am[ap]==ao){return ap
}}return -1
}function L(am){return/\w/.test(am)||am.toUpperCase()!=am.toLowerCase()
}var ag="\n\nb".split(/\n/).length!=3?function(ap){var an=0,am,ao=[];
while((am=ap.indexOf("\n",an))>-1){ao.push(ap.slice(an,ap.charAt(am-1)=="\r"?am-1:am));
an=am+1
}ao.push(ap.slice(an));
return ao
}:function(am){return am.split(/\r?\n/)
};
e.splitLines=ag;
var C=window.getSelection?function(an){try{return an.selectionStart!=an.selectionEnd
}catch(am){return false
}}:function(ao){try{var an=ao.ownerDocument.selection.createRange()
}catch(am){}if(!an||an.parentElement()!=ao){return false
}return an.compareEndPoints("StartToEnd",an)!=0
};
e.defineMode("null",function(){return{token:function(am){am.skipToEnd()
}}
});
e.defineMIME("text/plain","null");
var N={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};
e.keyNames=N;
(function(){for(var am=0;
am<10;
am++){N[am+48]=String(am)
}for(var am=65;
am<=90;
am++){N[am]=String.fromCharCode(am)
}for(var am=1;
am<=12;
am++){N[am+111]=N[am+63235]="F"+am
}})();
return e
})();