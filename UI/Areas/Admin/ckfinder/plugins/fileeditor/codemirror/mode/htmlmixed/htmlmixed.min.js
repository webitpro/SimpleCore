CodeMirror.defineMode("htmlmixed",function(a,i){var e=CodeMirror.getMode(a,{name:"xml",htmlMode:true});
var g=CodeMirror.getMode(a,"javascript");
var c=CodeMirror.getMode(a,"css");
function d(k,j){var l=e.token(k,j.htmlState);
if(l=="tag"&&k.current()==">"&&j.htmlState.context){if(/^script$/i.test(j.htmlState.context.tagName)){j.token=f;
j.localState=g.startState(e.indent(j.htmlState,""));
j.mode="javascript"
}else{if(/^style$/i.test(j.htmlState.context.tagName)){j.token=b;
j.localState=c.startState(e.indent(j.htmlState,""));
j.mode="css"
}}}return l
}function h(m,l,n){var k=m.current();
var j=k.search(l);
if(j>-1){m.backUp(k.length-j)
}return n
}function f(k,j){if(k.match(/^<\/\s*script\s*>/i,false)){j.token=d;
j.localState=null;
j.mode="html";
return d(k,j)
}return h(k,/<\/\s*script\s*>/,g.token(k,j.localState))
}function b(k,j){if(k.match(/^<\/\s*style\s*>/i,false)){j.token=d;
j.localState=null;
j.mode="html";
return d(k,j)
}return h(k,/<\/\s*style\s*>/,c.token(k,j.localState))
}return{startState:function(){var j=e.startState();
return{token:d,localState:null,mode:"html",htmlState:j}
},copyState:function(k){if(k.localState){var j=CodeMirror.copyState(k.token==b?c:g,k.localState)
}return{token:k.token,localState:j,mode:k.mode,htmlState:CodeMirror.copyState(e,k.htmlState)}
},token:function(k,j){return j.token(k,j)
},indent:function(j,k){if(j.token==d||/^\s*<\//.test(k)){return e.indent(j.htmlState,k)
}else{if(j.token==f){return g.indent(j.localState,k)
}else{return c.indent(j.localState,k)
}}},compareStates:function(j,k){if(j.mode!=k.mode){return false
}if(j.localState){return CodeMirror.Pass
}return e.compareStates(j.htmlState,k.htmlState)
},electricChars:"/{}:"}
},"xml","javascript","css");
CodeMirror.defineMIME("text/html","htmlmixed");