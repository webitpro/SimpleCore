(function(){CKEDITOR.config.jqueryOverrideVal=typeof CKEDITOR.config.jqueryOverrideVal=="undefined"?true:CKEDITOR.config.jqueryOverrideVal;
var b=window.jQuery;
if(typeof b=="undefined"){return
}b.extend(b.fn,{ckeditorGet:function(){var a=this.eq(0).data("ckeditorInstance");
if(!a){throw"CKEditor not yet initialized, use ckeditor() with callback."
}return a
},ckeditor:function(a,e){if(!CKEDITOR.env.isCompatible){return this
}if(!b.isFunction(a)){var f=e;
e=a;
a=f
}e=e||{};
this.filter("textarea, div, p").each(function(){var c=b(this),d=c.data("ckeditorInstance"),i=c.data("_ckeditorInstanceLock"),j=this;
if(d&&!i){if(a){a.apply(d,[this])
}}else{if(!i){if(e.autoUpdateElement||typeof e.autoUpdateElement=="undefined"&&CKEDITOR.config.autoUpdateElement){e.autoUpdateElementJquery=true
}e.autoUpdateElement=false;
c.data("_ckeditorInstanceLock",true);
d=CKEDITOR.replace(j,e);
c.data("ckeditorInstance",d);
d.on("instanceReady",function(g){var h=g.editor;
setTimeout(function(){if(!h.element){setTimeout(arguments.callee,100);
return
}g.removeListener("instanceReady",this.callee);
h.on("dataReady",function(){c.trigger("setData.ckeditor",[h])
});
h.on("getData",function(k){c.trigger("getData.ckeditor",[h,k.data])
},999);
h.on("destroy",function(){c.trigger("destroy.ckeditor",[h])
});
if(h.config.autoUpdateElementJquery&&c.is("textarea")&&c.parents("form").length){var l=function(){c.ckeditor(function(){h.updateElement()
})
};
c.parents("form").submit(l);
c.parents("form").bind("form-pre-serialize",l);
c.bind("destroy.ckeditor",function(){c.parents("form").unbind("submit",l);
c.parents("form").unbind("form-pre-serialize",l)
})
}h.on("destroy",function(){c.data("ckeditorInstance",null)
});
c.data("_ckeditorInstanceLock",null);
c.trigger("instanceReady.ckeditor",[h]);
if(a){a.apply(h,[j])
}},0)
},null,null,9999)
}else{CKEDITOR.on("instanceReady",function(g){var h=g.editor;
setTimeout(function(){if(!h.element){setTimeout(arguments.callee,100);
return
}if(h.element.$==j){if(a){a.apply(h,[j])
}}},0)
},null,null,9999)
}}});
return this
}});
if(CKEDITOR.config.jqueryOverrideVal){b.fn.val=CKEDITOR.tools.override(b.fn.val,function(a){return function(g,h){var i=typeof g!="undefined",j;
this.each(function(){var c=b(this),d=c.data("ckeditorInstance");
if(!h&&c.is("textarea")&&d){if(i){d.setData(g)
}else{j=d.getData();
return null
}}else{if(i){a.call(c,g)
}else{j=a.call(c);
return null
}}return true
});
return i?this:j
}
})
}})();