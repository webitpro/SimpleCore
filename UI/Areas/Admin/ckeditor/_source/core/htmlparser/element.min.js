CKEDITOR.htmlParser.element=function(name,attributes){this.name=name;this.attributes=attributes||(attributes={});this.children=[];var tagName=attributes["data-cke-real-element-type"]||name||"";var internalTag=tagName.match(/^cke:(.*)/);internalTag&&(tagName=internalTag[1]);var dtd=CKEDITOR.dtd,isBlockLike=!!(dtd.$nonBodyContent[tagName]||dtd.$block[tagName]||dtd.$listItem[tagName]||dtd.$tableContent[tagName]||dtd.$nonEditable[tagName]||tagName=="br"),isEmpty=!!dtd.$empty[name];this.isEmpty=isEmpty;
this.isUnknown=!dtd[name];this._={isBlockLike:isBlockLike,hasInlineStarted:isEmpty||!isBlockLike}};
CKEDITOR.htmlParser.cssStyle=function(){var styleText,arg=arguments[0],rules={};styleText=arg instanceof CKEDITOR.htmlParser.element?arg.attributes.style:arg;(styleText||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(match,name,value){name=="font-family"&&(value=value.replace(/["']/g,""));rules[name.toLowerCase()]=value});return{rules:rules,populate:function(obj){var style=this.toString();if(style)obj instanceof CKEDITOR.dom.element?obj.setAttribute("style",style):
obj instanceof CKEDITOR.htmlParser.element?obj.attributes.style=style:obj.style=style},toString:function(){var output=[];for(var i in rules)rules[i]&&output.push(i,":",rules[i],";");return output.join("")}}};
(function(){var sortAttribs=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0};CKEDITOR.htmlParser.element.prototype={type:CKEDITOR.NODE_ELEMENT,add:CKEDITOR.htmlParser.fragment.prototype.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},writeHtml:function(writer,filter){var attributes=this.attributes;var element=this,writeName=element.name,a,newAttrName,value;var isChildrenFiltered;element.filterChildren=function(){if(!isChildrenFiltered){var writer=new CKEDITOR.htmlParser.basicWriter;
CKEDITOR.htmlParser.fragment.prototype.writeChildrenHtml.call(element,writer,filter);element.children=(new CKEDITOR.htmlParser.fragment.fromHtml(writer.getHtml(),0,element.clone())).children;isChildrenFiltered=1}};if(filter){while(true){if(!(writeName=filter.onElementName(writeName)))return;element.name=writeName;if(!(element=filter.onElement(element)))return;element.parent=this.parent;if(element.name==writeName)break;if(element.type!=CKEDITOR.NODE_ELEMENT){element.writeHtml(writer,filter);return}writeName=
element.name;if(!writeName){for(var c=0,length=this.children.length;c<length;c++)this.children[c].parent=element.parent;this.writeChildrenHtml.call(element,writer,isChildrenFiltered?null:filter);return}}attributes=element.attributes}writer.openTag(writeName,attributes);var attribsArray=[];for(var i=0;i<2;i++)for(a in attributes){newAttrName=a;value=attributes[a];if(i==1)attribsArray.push([a,value]);else if(filter){while(true)if(!(newAttrName=filter.onAttributeName(a))){delete attributes[a];break}else if(newAttrName!=
a){delete attributes[a];a=newAttrName;continue}else break;if(newAttrName)if((value=filter.onAttribute(element,newAttrName,value))===false)delete attributes[newAttrName];else attributes[newAttrName]=value}}if(writer.sortAttributes)attribsArray.sort(sortAttribs);var len=attribsArray.length;for(i=0;i<len;i++){var attrib=attribsArray[i];writer.attribute(attrib[0],attrib[1])}writer.openTagClose(writeName,element.isEmpty);if(!element.isEmpty){this.writeChildrenHtml.call(element,writer,isChildrenFiltered?
null:filter);writer.closeTag(writeName)}},writeChildrenHtml:function(writer,filter){CKEDITOR.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments)}}})();