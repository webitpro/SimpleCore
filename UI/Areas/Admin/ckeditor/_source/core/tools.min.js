(function(){var functions=[];CKEDITOR.on("reset",function(){functions=[]});CKEDITOR.tools={arrayCompare:function(arrayA,arrayB){if(!arrayA&&!arrayB)return true;if(!arrayA||!arrayB||arrayA.length!=arrayB.length)return false;for(var i=0;i<arrayA.length;i++)if(arrayA[i]!=arrayB[i])return false;return true},clone:function(obj){var clone;if(obj&&obj instanceof Array){clone=[];for(var i=0;i<obj.length;i++)clone[i]=this.clone(obj[i]);return clone}if(obj===null||typeof obj!="object"||obj instanceof String||
obj instanceof Number||obj instanceof Boolean||obj instanceof Date||obj instanceof RegExp)return obj;clone=new obj.constructor;for(var propertyName in obj){var property=obj[propertyName];clone[propertyName]=this.clone(property)}return clone},capitalize:function(str){return str.charAt(0).toUpperCase()+str.substring(1).toLowerCase()},extend:function(target){var argsLength=arguments.length,overwrite,propertiesList;if(typeof(overwrite=arguments[argsLength-1])=="boolean")argsLength--;else if(typeof(overwrite=
arguments[argsLength-2])=="boolean"){propertiesList=arguments[argsLength-1];argsLength-=2}for(var i=1;i<argsLength;i++){var source=arguments[i];for(var propertyName in source)if(overwrite===true||target[propertyName]==undefined)if(!propertiesList||propertyName in propertiesList)target[propertyName]=source[propertyName]}return target},prototypedCopy:function(source){var copy=function(){};copy.prototype=source;return new copy},isArray:function(object){return!!object&&object instanceof Array},isEmpty:function(object){for(var i in object)if(object.hasOwnProperty(i))return false;
return true},cssStyleToDomStyle:function(){var test=document.createElement("div").style;var cssFloat=typeof test.cssFloat!="undefined"?"cssFloat":typeof test.styleFloat!="undefined"?"styleFloat":"float";return function(cssName){if(cssName=="float")return cssFloat;else return cssName.replace(/-./g,function(match){return match.substr(1).toUpperCase()})}}(),buildStyleHtml:function(css){css=[].concat(css);var item,retval=[];for(var i=0;i<css.length;i++){item=css[i];if(/@import|[{}]/.test(item))retval.push("<style>"+
item+"</style>");else retval.push('<link type="text/css" rel=stylesheet href="'+item+'">')}return retval.join("")},htmlEncode:function(text){var standard=function(text){var span=new CKEDITOR.dom.element("span");span.setText(text);return span.getHtml()};var fix1=standard("\n").toLowerCase()=="<br>"?function(text){return standard(text).replace(/<br>/gi,"\n")}:standard;var fix2=standard(">")==">"?function(text){return fix1(text).replace(/>/g,"&gt;")}:fix1;var fix3=standard("  ")=="&nbsp; "?function(text){return fix2(text).replace(/&nbsp;/g,
" ")}:fix2;this.htmlEncode=fix3;return this.htmlEncode(text)},htmlEncodeAttr:function(text){return text.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getNextNumber:function(){var last=0;return function(){return++last}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(originalFunction,functionBuilder){return functionBuilder(originalFunction)},setTimeout:function(func,milliseconds,scope,args,ownerWindow){if(!ownerWindow)ownerWindow=window;if(!scope)scope=
ownerWindow;return ownerWindow.setTimeout(function(){if(args)func.apply(scope,[].concat(args));else func.apply(scope)},milliseconds||0)},trim:function(){var trimRegex=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(str){return str.replace(trimRegex,"")}}(),ltrim:function(){var trimRegex=/^[ \t\n\r]+/g;return function(str){return str.replace(trimRegex,"")}}(),rtrim:function(){var trimRegex=/[ \t\n\r]+$/g;return function(str){return str.replace(trimRegex,"")}}(),indexOf:Array.prototype.indexOf?function(array,
entry){return array.indexOf(entry)}:function(array,entry){for(var i=0,len=array.length;i<len;i++)if(array[i]===entry)return i;return-1},bind:function(func,obj){return function(){return func.apply(obj,arguments)}},createClass:function(definition){var $=definition.$,baseClass=definition.base,privates=definition.privates||definition._,proto=definition.proto,statics=definition.statics;if(privates){var originalConstructor=$;$=function(){var _=this._||(this._={});for(var privateName in privates){var priv=
privates[privateName];_[privateName]=typeof priv=="function"?CKEDITOR.tools.bind(priv,this):priv}originalConstructor.apply(this,arguments)}}if(baseClass){$.prototype=this.prototypedCopy(baseClass.prototype);$.prototype.constructor=$;$.prototype.base=function(){this.base=baseClass.prototype.base;baseClass.apply(this,arguments);this.base=arguments.callee}}if(proto)this.extend($.prototype,proto,true);if(statics)this.extend($,statics,true);return $},addFunction:function(fn,scope){return functions.push(function(){return fn.apply(scope||
this,arguments)})-1},removeFunction:function(ref){functions[ref]=null},callFunction:function(ref){var fn=functions[ref];return fn&&fn.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){return function(length){return length+(!length||isNaN(Number(length))?"":"px")}}(),convertToPx:function(){var calculator;return function(cssLength){if(!calculator){calculator=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;'+'top:-9999px;margin:0px;padding:0px;border:0px;"'+
"></div>",CKEDITOR.document);CKEDITOR.document.getBody().append(calculator)}if(!/%$/.test(cssLength)){calculator.setStyle("width",cssLength);return calculator.$.clientWidth}return cssLength}}(),repeat:function(str,times){return(new Array(times+1)).join(str)},tryThese:function(){var returnValue;for(var i=0,length=arguments.length;i<length;i++){var lambda=arguments[i];try{returnValue=lambda();break}catch(e){}}return returnValue},genKey:function(){return Array.prototype.slice.call(arguments).join("-")}}})();