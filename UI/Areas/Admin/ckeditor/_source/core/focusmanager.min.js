CKEDITOR.focusManager=function(editor){if(editor.focusManager)return editor.focusManager;this.hasFocus=false;this._={editor:editor};return this};
CKEDITOR.focusManager.prototype={focus:function(){if(this._.timer)clearTimeout(this._.timer);if(!this.hasFocus){if(CKEDITOR.currentInstance)CKEDITOR.currentInstance.focusManager.forceBlur();var editor=this._.editor;editor.container.getChild(1).addClass("cke_focus");this.hasFocus=true;editor.fire("focus")}},blur:function(){var focusManager=this;if(focusManager._.timer)clearTimeout(focusManager._.timer);focusManager._.timer=setTimeout(function(){delete focusManager._.timer;focusManager.forceBlur()},
100)},forceBlur:function(){if(this.hasFocus){var editor=this._.editor;editor.container.getChild(1).removeClass("cke_focus");this.hasFocus=false;editor.fire("blur")}}};