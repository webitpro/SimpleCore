CKEDITOR.skins=function(){var loaded={},paths={};var loadPart=function(editor,skinName,part,callback){var skinDefinition=loaded[skinName];if(!editor.skin){editor.skin=skinDefinition;if(skinDefinition.init)skinDefinition.init(editor)}var appendSkinPath=function(fileNames){for(var n=0;n<fileNames.length;n++)fileNames[n]=CKEDITOR.getUrl(paths[skinName]+fileNames[n])};function fixCSSTextRelativePath(cssStyleText,baseUrl){return cssStyleText.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(match,
opener,path,closer){if(/^\/|^\w?:/.test(path))return match;else return"url("+baseUrl+opener+path+closer+")"})}part=skinDefinition[part];var partIsLoaded=!part||!!part._isLoaded;if(partIsLoaded)callback&&callback();else{var pending=part._pending||(part._pending=[]);pending.push(callback);if(pending.length>1)return;var cssIsLoaded=!part.css||!part.css.length,jsIsLoaded=!part.js||!part.js.length;var checkIsLoaded=function(){if(cssIsLoaded&&jsIsLoaded){part._isLoaded=1;for(var i=0;i<pending.length;i++)if(pending[i])pending[i]()}};
if(!cssIsLoaded){var cssPart=part.css;if(CKEDITOR.tools.isArray(cssPart)){appendSkinPath(cssPart);for(var c=0;c<cssPart.length;c++)CKEDITOR.document.appendStyleSheet(cssPart[c])}else{cssPart=fixCSSTextRelativePath(cssPart,CKEDITOR.getUrl(paths[skinName]));CKEDITOR.document.appendStyleText(cssPart)}part.css=cssPart;cssIsLoaded=1}if(!jsIsLoaded){appendSkinPath(part.js);CKEDITOR.scriptLoader.load(part.js,function(){jsIsLoaded=1;checkIsLoaded()})}checkIsLoaded()}};return{add:function(skinName,skinDefinition){loaded[skinName]=
skinDefinition;skinDefinition.skinPath=paths[skinName]||(paths[skinName]=CKEDITOR.getUrl("_source/"+"skins/"+skinName+"/"))},load:function(editor,skinPart,callback){var skinName=editor.skinName,skinPath=editor.skinPath;if(loaded[skinName])loadPart(editor,skinName,skinPart,callback);else{paths[skinName]=skinPath;CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(skinPath+"skin.js"),function(){loadPart(editor,skinName,skinPart,callback)})}}}}();